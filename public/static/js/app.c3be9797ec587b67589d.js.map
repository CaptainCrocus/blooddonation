{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?9ab5","webpack:///./src/App.vue","webpack:///./src/components/HelloWorld.vue?87ec","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/services/Api.js","webpack:///./src/services/PersonService.js","webpack:///./src/services/BloodTypeService.js","webpack:///src/components/Persons.vue","webpack:///./src/components/Persons.vue?ce22","webpack:///./src/components/Persons.vue","webpack:///./src/components/ErrorBoard.vue?f924","webpack:///./src/components/ErrorBoard.vue","webpack:///src/components/ErrorBoard.vue","webpack:///src/components/PersonAdd.vue","webpack:///./src/components/PersonAdd.vue?b9f8","webpack:///./src/components/PersonAdd.vue","webpack:///src/components/PersonShow.vue","webpack:///./src/components/PersonShow.vue?73c5","webpack:///./src/components/PersonShow.vue","webpack:///src/components/PersonEdit.vue","webpack:///./src/components/PersonEdit.vue?e593","webpack:///./src/components/PersonEdit.vue","webpack:///./src/services/DrawService.js","webpack:///./src/services/SourceService.js","webpack:///src/components/Draws.vue","webpack:///./src/components/Draws.vue?7857","webpack:///./src/components/Draws.vue","webpack:///src/components/DrawAdd.vue","webpack:///./src/components/DrawAdd.vue?467d","webpack:///./src/components/DrawAdd.vue","webpack:///src/components/DrawShow.vue","webpack:///./src/components/DrawShow.vue?8d5f","webpack:///./src/components/DrawShow.vue","webpack:///./src/services/TransService.js","webpack:///src/components/TransAdd.vue","webpack:///./src/components/TransAdd.vue?c301","webpack:///./src/components/TransAdd.vue","webpack:///src/components/Trans.vue","webpack:///./src/components/Trans.vue?1970","webpack:///./src/components/Trans.vue","webpack:///src/components/TransShow.vue","webpack:///./src/components/TransShow.vue?a28f","webpack:///./src/components/TransShow.vue","webpack:///./src/router/index.js","webpack:///./src/lib/Tools.js","webpack:///./src/main.js","webpack:///./src/assets/transfusion_bg.png"],"names":["App","selectortype_template_index_0_src_App","render","_vm","this","_h","$createElement","_c","_self","attrs","type","variant","toggleable","staticClass","target","_v","href","to","name","is-nav","id","text","exact","path","right","on","click","logout","key","$route","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","components_HelloWorld","_m","_s","msg","src","alt","src_components_HelloWorld","HelloWorld_normalizeComponent","Api","instance","axios_default","a","create","baseURL","withCredentials","interceptors","response","use","undefined","data","success","redirect","window","location","origin","error","promise_default","reject","PersonService","queryObj","get","params","post","put","BloodTypeService","Persons","value","isDonor","isRecipient","label","sortable","fields","cssClass","mode","_this","searchObject","middleName","offset","person","totalCount","_this2","pageSize","getPersons","_this3","sortDesc","getBloodTypes","components_Persons","cols","class","classObject","title","inline","submit","$event","preventDefault","searchPerson","for","placeHolder","model","callback","$$v","$set","expression","value-field","text-field","options","bloodTypes","sex","striped","small","hover","no-provider-paging","no-provider-sorting","no-provider-filtering","no-local-sorting","stacked","items","persons","sort-changed","sortingChanged","scopedSlots","_u","fn","typeName","row","item","donor","recipient","staticStyle","float","change","toggleDetails","nativeOn","stopPropagation","router-tag","linkForInfo","_id","_e","selectPerson","sm","phone","mobile","email","address","description","size","total-rows","per-page","goToPage","currentPage","src_components_Persons","Persons_normalizeComponent","components_ErrorBoard","dismissible","show","errors","length","dismissed","closeBoard","_l","message","src_components_ErrorBoard","ErrorBoard_normalizeComponent","PersonAdd","bloodType","fin","firstName","lastName","passport","components_PersonAdd","clearerrors","clearErrors","method","addPerson","md","horizontal","label-cols","breakpoints","label-for","aria-describedby","state","selected","formatter","toUpperCase","rows","src_components_PersonAdd","PersonAdd_normalizeComponent","PersonShow","getPerson","components_PersonShow","src_components_PersonShow","PersonShow_normalizeComponent","PersonEdit","components_PersonEdit","src_components_PersonEdit","PersonEdit_normalizeComponent","DrawService","SourceService","Draws","draw","_this4","getDraws","personId","getSources","components_Draws","searchDraw","sources","draws","sourceName","measure","fullName","selectDraw","src_components_Draws","Draws_normalizeComponent","DrawAdd","Date","date","volume","source","time","hide","regenerator_default","wrap","_context4","components_DrawAdd","directives","rawName","modifiers","donModal","ref","ok-only","ok-title","selectperson","setDonor","action","addDraw","src_components_DrawAdd","DrawAdd_normalizeComponent","DrawShow","getDraw","components_DrawShow","remainder","src_components_DrawShow","DrawShow_normalizeComponent","TransService","TransAdd","components_TransAdd","recModal","setRecipient","addTrans","removeDraw","drawModal","selectdraw","src_components_TransAdd","TransAdd_normalizeComponent","Trans","tran","getTrans","components_Trans","searchTrans","trans","src_components_Trans","Trans_normalizeComponent","TransShow","components_TransShow","no-body","slot","transVolume","src_components_TransShow","TransShow_normalizeComponent","vue_esm","vue_router_esm","router","routes","component","props","pageTitle","children","Tools","smartJoin","arr","separator","filter","elt","toString","trim","join","formatDate","dd","getDate","mm","getMonth","getFullYear","formatTime","hh","getHours","getMinutes","config","productionTip","es","prototype","$tools","el","components","template","module","exports","p"],"mappings":"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","file":"static/js/app.c3be9797ec587b67589d.js","sourcesContent":["<template>\n  <div>\n    <b-navbar type=\"dark\" variant=\"info\" toggleable=\"md\">\n      <div class=\"container\">\n        <b-navbar-toggle target=\"nav_dropdown_collapse\"></b-navbar-toggle>\n        <b-navbar-brand href=\"#\" v-bind:to=\"{name: 'HelloWorld'}\">BloodTrans</b-navbar-brand>\n        <b-collapse is-nav id=\"nav_dropdown_collapse\">\n          <b-navbar-nav>\n            <b-nav-item-dropdown text=\"Персоны\">\n              <b-dropdown-item v-bind:to=\"{name: 'Persons'}\" href=\"#\" exact>Персоны</b-dropdown-item>\n              <b-dropdown-item v-bind:to=\"{path: '/donor'}\" href=\"#\" exact>Доноры</b-dropdown-item>\n              <b-dropdown-item v-bind:to=\"{path: '/recipient'}\" href=\"#\" exact>Реципиенты</b-dropdown-item>\n              <b-dropdown-item v-bind:to=\"{name: 'PersonAdd'}\" exact>Добавить персону</b-dropdown-item>\n            </b-nav-item-dropdown>\n            <b-nav-item-dropdown text=\"Заборы крови\">\n              <b-dropdown-item v-bind:to=\"{name: 'Draws'}\" exact>Список заборов</b-dropdown-item>\n              <b-dropdown-item v-bind:to=\"{name: 'DrawAdd'}\" exact>Произвести забор</b-dropdown-item>\n            </b-nav-item-dropdown>\n            <b-nav-item-dropdown text=\"Переливания\">\n              <b-dropdown-item v-bind:to=\"{name: 'Trans'}\" exact>Список переливаний</b-dropdown-item>\n              <b-dropdown-item v-bind:to=\"{name: 'TransAdd'}\" exact>Сделать переливание</b-dropdown-item>\n            </b-nav-item-dropdown>\n          </b-navbar-nav>\n\n          <b-navbar-nav class=\"ml-auto\">\n            <b-nav-item right @click=\"logout\">Выйти</b-nav-item>\n          </b-navbar-nav>\n        </b-collapse>        \n      </div>\n    </b-navbar>\n\n    <section id=\"app\">\n      <router-view :key=\"$route.path\"/>\n    </section>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  methods:{\n    logout(){\n      window.location = window.location.origin + \"/signout\";\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n@media (max-width: 768px) {\n  .mdlContent .card/*[class*=\"col-\"]*/ {\n      margin-bottom: 30px;\n  }\n}\n@media (max-width: 768px) {\n  .mdlContent .form-row [class*=\"col-\"] {\n      margin-bottom: 0px;\n  }\n}\nh1{\n  padding: 0 0 18px 72px;\n}\n.container-fluid {\n  margin-right: auto;\n  margin-left: auto;\n  max-width: 1024px; /* or 950px */\n}\n.card-body p{\n  margin-bottom: .3em;\n}\n.card-body button, .card-body.btn, .card-body.btn-primary{\n  margin-top: 1em;\n}\n.navbar-brand{\n  font-size: 24px;\n  font-weight: bold;\n}\n.nav-item{\n  font-size: 17px;\n  color: #fff;\n}\n.navbar-dark .navbar-nav .nav-link {\n    color: rgba(255,255,255,1);\n}\n.icon-link {\n  float: left;\n  width: 32px;\n  height: 32px;\n  margin-right: 12px;\n}\n.icon-link div{\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n}\n.btnPanel, .mdlContent{\n  margin-top: 30px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-navbar',{attrs:{\"type\":\"dark\",\"variant\":\"info\",\"toggleable\":\"md\"}},[_c('div',{staticClass:\"container\"},[_c('b-navbar-toggle',{attrs:{\"target\":\"nav_dropdown_collapse\"}}),_vm._v(\" \"),_c('b-navbar-brand',{attrs:{\"href\":\"#\",\"to\":{name: 'HelloWorld'}}},[_vm._v(\"BloodTrans\")]),_vm._v(\" \"),_c('b-collapse',{attrs:{\"is-nav\":\"\",\"id\":\"nav_dropdown_collapse\"}},[_c('b-navbar-nav',[_c('b-nav-item-dropdown',{attrs:{\"text\":\"Персоны\"}},[_c('b-dropdown-item',{attrs:{\"to\":{name: 'Persons'},\"href\":\"#\",\"exact\":\"\"}},[_vm._v(\"Персоны\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"to\":{path: '/donor'},\"href\":\"#\",\"exact\":\"\"}},[_vm._v(\"Доноры\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"to\":{path: '/recipient'},\"href\":\"#\",\"exact\":\"\"}},[_vm._v(\"Реципиенты\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"to\":{name: 'PersonAdd'},\"exact\":\"\"}},[_vm._v(\"Добавить персону\")])],1),_vm._v(\" \"),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Заборы крови\"}},[_c('b-dropdown-item',{attrs:{\"to\":{name: 'Draws'},\"exact\":\"\"}},[_vm._v(\"Список заборов\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"to\":{name: 'DrawAdd'},\"exact\":\"\"}},[_vm._v(\"Произвести забор\")])],1),_vm._v(\" \"),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Переливания\"}},[_c('b-dropdown-item',{attrs:{\"to\":{name: 'Trans'},\"exact\":\"\"}},[_vm._v(\"Список переливаний\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"to\":{name: 'TransAdd'},\"exact\":\"\"}},[_vm._v(\"Сделать переливание\")])],1)],1),_vm._v(\" \"),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{attrs:{\"right\":\"\"},on:{\"click\":_vm.logout}},[_vm._v(\"Выйти\")])],1)],1)],1)]),_vm._v(\" \"),_c('section',{attrs:{\"id\":\"app\"}},[_c('router-view',{key:_vm.$route.path})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d4b0945\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d4b0945\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d4b0945\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"imageCont\"},[_c('img',{attrs:{\"src\":require(\"../assets/transfusion_bg.png\"),\"alt\":\"Распродажа\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f8c57280\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f8c57280\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f8c57280\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f8c57280\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <section>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <div class=\"imageCont\">\n            <img src=\"../assets/transfusion_bg.png\" alt=\"Распродажа\">\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"hello\">\n            <h1>{{ msg }}</h1>\n          </div>          \n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Добро пожаловать в Blood Transfusion DataBase'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n  padding: 0 0 0 10px;\n}\n.hello{\n  margin-top: 50px;\n}\nimg { width: 100% }\n.imgCont{ text-align: center; }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","import axios from 'axios'\r\n\r\nexport default() => {\r\n  var instance = axios.create({\r\n    baseURL: `/`, //`http://localhost:5000`,\r\n    withCredentials: true\r\n  });\r\n\r\n  instance.interceptors.response.use(function (response) {\r\n    \tif(undefined !== response.data.success && !response.data.success && \r\n    \t\tundefined !== response.data.redirect) {\r\n    \t\twindow.location = window.location.origin + response.data.redirect;\r\n    \t}\r\n    return response;\r\n  }, function (error) {\r\n    return Promise.reject(error);\r\n  });\r\n\r\n  return instance\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/Api.js","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  fetchPersons (queryObj) {\r\n    return Api().get('api/person', {params: queryObj});\r\n  },\r\n  addPerson (params) {\r\n    return Api().post('api/person', params);\r\n  },\r\n  getPerson (params) {\r\n    return Api().get('api/person/' + params.id);\r\n  },\r\n  updatePerson (params) {\r\n    return Api().put('api/person/' + params.id, params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/PersonService.js","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  fetchBloodTypes () {\r\n    return Api().get('api/bloodtype')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/BloodTypeService.js","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n      \t  <h1 v-bind:class=\"classObject\">\r\n            <span v-if=\"title\">{{title}}</span>\r\n            <span v-else>Персоны</span>\r\n          </h1>      \r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col class=\"mdlContent\" cols=\"12\">\r\n  \t  \t\t<b-form inline @submit.prevent=\"searchPerson\">\r\n  \t  \t\t\t<label class=\"sr-only\" for=\"name\">Имя или фамилия</label>\r\n  \t      \t<b-input class=\"mb-2 mr-sm-2 mb-sm-2\" v-model=\"searchObject.name\" id=\"name\" name=\"name\" placeHolder=\"имя\" />\r\n  \t  \t\t\t<label class=\"sr-only\" for=\"fin\">FIN</label>\r\n  \t      \t<b-input class=\"mb-2 mr-sm-2 mb-sm-2\" v-model=\"searchObject.fin\" id=\"fin\" name=\"fin\"  placeHolder=\"FIN\"/>\r\n            <label class=\"sr-only\" for=\"bloodType\">Группа крови</label>\r\n            <b-form-select class=\"mb-2 mr-sm-2 mb-sm-2\" id=\"bloodType\" value-field=\"_id\" text-field=\"typeName\" :options=\"bloodTypes\" name=\"bloodType\" v-model=\"searchObject.bloodType\"></b-form-select>\r\n  \t  \t\t\t<label class=\"sr-only\" for=\"sex\">Пол</label>\r\n    \t\t\t\t<b-form-select class=\"mb-2 mr-sm-2 mb-sm-2\" id=\"sex\" :options=\"sex\" name=\"sex\" v-model=\"searchObject.sex\"></b-form-select>\r\n  \t      \t<b-button type=\"submit\" class=\"mb-2 mr-sm-2 mb-sm-2\" variant=\"primary\">Найти</b-button>\r\n  \t  \t\t</b-form>\r\n          <b-table \r\n          \tstriped small hover no-provider-paging no-provider-sorting no-provider-filtering \r\n            no-local-sorting\r\n            stacked=\"md\"\r\n            @sort-changed=\"sortingChanged\"\r\n          \t:items=\"persons\" \r\n          \t:fields=\"fields\"\r\n            class=\"mt-4\">\r\n            <template slot=\"index\" v-bind:offset=\"searchObject.offset\" slot-scope=\"data\">\r\n            \t{{data.value + 1}}\r\n            </template>\r\n            <template slot=\"bloodType\" slot-scope=\"data\">\r\n              {{data.value.typeName}}\r\n            </template>\r\n            <template slot=\"donor\" slot-scope=\"row\">\r\n              {{row.item.donor}} / {{row.item.recipient}}\r\n            </template>\r\n            <template slot=\"actions\" slot-scope=\"row\">\r\n              <b-form-checkbox style=\"float: left;\" @click.native.stop @change=\"row.toggleDetails\" v-model=\"row.detailsShowing\">Инфо</b-form-checkbox>\r\n              \r\n              <div v-if=\"mode !== 'personselect'\" class=\"icon-link\">\r\n                <b-link class=\"person-info\" router-tag=\"div\" v-bind:to=\"linkForInfo(row.item._id)\" title=\"просмотреть\"></b-link>\r\n              </div>\r\n              \r\n              <div v-if=\"mode !== 'personselect'\" class=\"icon-link\">\r\n                <b-link class=\"draw-make\" router-tag=\"div\" v-bind:to=\"{ name: 'DrawAdd', params: {id: row.item._id }}\" title=\"забор\"></b-link>\r\n              </div>\r\n              <div v-if=\"mode==='personselect'\" class=\"icon-link\">\r\n                <div class=\"select\" @click.prevent=\"selectPerson(row.item)\" title=\"выбрать персону\"></div>\r\n              </div>\r\n            </template>\r\n            <template slot=\"row-details\" slot-scope=\"row\">\r\n              <b-card>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.sex\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Пол:</b></b-col>\r\n                  <b-col>{{ row.item.sex == 'male' ? 'мужской' : 'женский' }}</b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.donor || row.item.recipient\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Статус:</b></b-col>\r\n                  <b-col><span v-if=\"row.item.donor\">донор </span><span v-if=\"row.item.recipient\"><span v-if=\"row.item.donor\">| </span>реципиент </span></b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.phone\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Телефон:</b></b-col>\r\n                  <b-col>{{ row.item.phone }}</b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.mobile\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Мобильный:</b></b-col>\r\n                  <b-col>{{ row.item.mobile }}</b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.email\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Email:</b></b-col>\r\n                  <b-col><a :href=\"`mailto:${row.item.email}`\">{{row.item.email}}</a></b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.address\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Адрес:</b></b-col>\r\n                  <b-col>{{ row.item.address }}</b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-2\" v-if=\"row.item.description\">\r\n                  <b-col sm=\"4\" class=\"text-sm-right\"><b>Доп. информация:</b></b-col>\r\n                  <b-col>{{ row.item.description }}</b-col>\r\n                </b-row>\r\n                <b-button size=\"sm\" @click=\"row.toggleDetails\">Скрыть</b-button>\r\n              </b-card>\r\n            </template>        \r\n          </b-table>\r\n          <b-row>\r\n          \t<b-col cols=\"12\">\r\n          \t\t<b-pagination :total-rows=\"searchObject.totalCount\" @change =\"goToPage\" v-model=\"currentPage\" :per-page=\"searchObject.pageSize\"></b-pagination>\r\n          \t</b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport PersonService from '@/services/PersonService'\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\n/*id: person._id*/\r\nexport default {\r\n  name: 'Persons',\r\n  data () {\r\n    return {\r\n      sex: [\r\n        { value: null, text: 'Любого пола' },\r\n        { value: 'male', text: 'мужчины' },\r\n        { value: 'female', text: 'женщины' }\r\n      ],\r\n    \tcurrentPage: 1,\r\n    \tpersons: [],\r\n    \tbloodTypes: [],\r\n    \tsearchObject: {\r\n    \t\tname: '',\r\n    \t\tfin: '',\r\n        sex: null,\r\n    \t\tbloodType: null,\r\n    \t\tpageSize: 10,\r\n    \t\ttotalCount: 0,\r\n        donor: this.isDonor(),\r\n        recipient: this.isRecipient(),\r\n    \t\toffset: 0,\r\n        sortObj: {}\r\n    \t}\r\n    }\r\n  },\r\n  props: ['mode', 'pageTitle'],\r\n  computed: {\r\n    fields(){\r\n      var fields = [\r\n        { key: 'index', label: \"#\"},\r\n        { key: 'fullName', label: 'Имя', sortable: true},\r\n      ];\r\n      if(this.mode !== 'personselect'){\r\n        fields.push({ key: 'bloodType', label: 'Группа крови' });\r\n        fields.push({ key: 'fin', label: 'FIN' });\r\n      }\r\n      fields.push({ key: 'actions', label: 'Action'});\r\n      return fields;\r\n    },\r\n    title(){\r\n      return this.pageTitle || 'Персоны';\r\n    },\r\n    classObject(){\r\n      let cssClass;\r\n      switch(this.mode){\r\n        case 'donor':\r\n          cssClass = 'donor';\r\n          break;\r\n        case 'recipient':\r\n          cssClass = 'recipient';\r\n          break;\r\n        default:\r\n          cssClass = 'person';\r\n      }\r\n      return cssClass;\r\n    }\r\n  },\r\n  methods: {\r\n    async getPersons() {\r\n      this.searchObject.donor = this.isDonor();\r\n      this.searchObject.recipient = this.isRecipient();\r\n      const response = await PersonService.fetchPersons(this.searchObject);\r\n      if(response.data.success){\r\n        this.persons = response.data.data.map((person, index, persons) => {\r\n          person.fullName = this.$tools.smartJoin([person.firstName, person.lastName, person.middleName]);\r\n          person.index = index + this.searchObject.offset;\r\n          return person;\r\n        });\r\n        this.searchObject.totalCount = response.data.totalCount;\r\n      }\r\n    },\r\n    async getBloodTypes(){\r\n      const response = await BloodTypeService.fetchBloodTypes();\r\n      if(response.data.success){\r\n        this.bloodTypes = response.data.data;\r\n        this.bloodTypes.push({ \r\n    \t\t\t_id: null, \r\n    \t\t\ttypeName: 'Все группы крови'\r\n    \t\t});\r\n      }\r\n  \t},\r\n    selectPerson(person){\r\n      this.$emit('selectperson', person);\r\n    },\r\n    goToPage(pageNumber){\r\n    \tthis.searchObject.offset = (pageNumber - 1) * this.searchObject.pageSize;\r\n    \tthis.getPersons();\r\n    },\r\n    async searchPerson(){\r\n    \tthis.searchObject.offset = 0;\r\n    \tawait this.getPersons();\r\n\t\t  this.currentPage = Math.ceil(this.searchObject.offset / this.searchObject.pageSize);\r\n    },\r\n    sortingChanged(ctx){\r\n      this.searchObject.sortObj[ctx.sortBy] = ctx.sortDesc;\r\n      this.getPersons();\r\n    },\r\n    isDonor(){\r\n      return this.mode === 'donor' ? true : null;\r\n    },\r\n    isRecipient(){\r\n      return this.mode === 'recipient' ? true : null;\r\n    },\r\n    linkForInfo(id){\r\n      if(this.mode === 'donor'){\r\n        return `/donor/show/${id}`;\r\n      }\r\n      if(this.mode === 'recipient'){\r\n        return `/recipient/show/${id}`;\r\n      }\r\n      return `/person/show/${id}`;;\r\n    }\r\n  },\r\n  created() {\r\n    this.getPersons();\r\n    this.getBloodTypes();\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.person{\r\n  background: url(../assets/person-info_64x64.png) no-repeat;\r\n}\r\n.donor{\r\n  background: url(../assets/donor_64x64.png) no-repeat;\r\n}\r\n.recipient{\r\n  background: url(../assets/recipient_64x64.png) no-repeat;\r\n}\r\n.draw-make{\r\n  background: url(../assets/draw-make_32x32.png) no-repeat;\r\n}\r\n.person-info{\r\n  background: url(../assets/person-info_32x32.png) no-repeat;\r\n}\r\n.select{\r\n  background: url(../assets/select_32x32.png) no-repeat;\r\n}\r\n.container-fluid {\r\n  margin-right: auto;\r\n  margin-left: auto;\r\n  max-width: 1024px; /* or 950px */\r\n}\r\n.table{\r\n  stacked: true;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Persons.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',{class:_vm.classObject},[(_vm.title)?_c('span',[_vm._v(_vm._s(_vm.title))]):_c('span',[_vm._v(\"Персоны\")])])])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',{staticClass:\"mdlContent\",attrs:{\"cols\":\"12\"}},[_c('b-form',{attrs:{\"inline\":\"\"},on:{\"submit\":function($event){$event.preventDefault();_vm.searchPerson($event)}}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"name\"}},[_vm._v(\"Имя или фамилия\")]),_vm._v(\" \"),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"name\",\"name\":\"name\",\"placeHolder\":\"имя\"},model:{value:(_vm.searchObject.name),callback:function ($$v) {_vm.$set(_vm.searchObject, \"name\", $$v)},expression:\"searchObject.name\"}}),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"fin\"}},[_vm._v(\"FIN\")]),_vm._v(\" \"),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"fin\",\"name\":\"fin\",\"placeHolder\":\"FIN\"},model:{value:(_vm.searchObject.fin),callback:function ($$v) {_vm.$set(_vm.searchObject, \"fin\", $$v)},expression:\"searchObject.fin\"}}),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"bloodType\"}},[_vm._v(\"Группа крови\")]),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"bloodType\",\"value-field\":\"_id\",\"text-field\":\"typeName\",\"options\":_vm.bloodTypes,\"name\":\"bloodType\"},model:{value:(_vm.searchObject.bloodType),callback:function ($$v) {_vm.$set(_vm.searchObject, \"bloodType\", $$v)},expression:\"searchObject.bloodType\"}}),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"sex\"}},[_vm._v(\"Пол\")]),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"sex\",\"options\":_vm.sex,\"name\":\"sex\"},model:{value:(_vm.searchObject.sex),callback:function ($$v) {_vm.$set(_vm.searchObject, \"sex\", $$v)},expression:\"searchObject.sex\"}}),_vm._v(\" \"),_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Найти\")])],1),_vm._v(\" \"),_c('b-table',{staticClass:\"mt-4\",attrs:{\"striped\":\"\",\"small\":\"\",\"hover\":\"\",\"no-provider-paging\":\"\",\"no-provider-sorting\":\"\",\"no-provider-filtering\":\"\",\"no-local-sorting\":\"\",\"stacked\":\"md\",\"items\":_vm.persons,\"fields\":_vm.fields},on:{\"sort-changed\":_vm.sortingChanged},scopedSlots:_vm._u([{key:\"index\",fn:function(data){return [_vm._v(\"\\n          \\t\"+_vm._s(data.value + 1)+\"\\n          \")]}},{key:\"bloodType\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.typeName)+\"\\n          \")]}},{key:\"donor\",fn:function(row){return [_vm._v(\"\\n            \"+_vm._s(row.item.donor)+\" / \"+_vm._s(row.item.recipient)+\"\\n          \")]}},{key:\"actions\",fn:function(row){return [_c('b-form-checkbox',{staticStyle:{\"float\":\"left\"},on:{\"change\":row.toggleDetails},nativeOn:{\"click\":function($event){$event.stopPropagation();}},model:{value:(row.detailsShowing),callback:function ($$v) {_vm.$set(row, \"detailsShowing\", $$v)},expression:\"row.detailsShowing\"}},[_vm._v(\"Инфо\")]),_vm._v(\" \"),(_vm.mode !== 'personselect')?_c('div',{staticClass:\"icon-link\"},[_c('b-link',{staticClass:\"person-info\",attrs:{\"router-tag\":\"div\",\"to\":_vm.linkForInfo(row.item._id),\"title\":\"просмотреть\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.mode !== 'personselect')?_c('div',{staticClass:\"icon-link\"},[_c('b-link',{staticClass:\"draw-make\",attrs:{\"router-tag\":\"div\",\"to\":{ name: 'DrawAdd', params: {id: row.item._id }},\"title\":\"забор\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.mode==='personselect')?_c('div',{staticClass:\"icon-link\"},[_c('div',{staticClass:\"select\",attrs:{\"title\":\"выбрать персону\"},on:{\"click\":function($event){$event.preventDefault();_vm.selectPerson(row.item)}}})]):_vm._e()]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[(row.item.sex)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Пол:\")])]),_vm._v(\" \"),_c('b-col',[_vm._v(_vm._s(row.item.sex == 'male' ? 'мужской' : 'женский'))])],1):_vm._e(),_vm._v(\" \"),(row.item.donor || row.item.recipient)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Статус:\")])]),_vm._v(\" \"),_c('b-col',[(row.item.donor)?_c('span',[_vm._v(\"донор \")]):_vm._e(),(row.item.recipient)?_c('span',[(row.item.donor)?_c('span',[_vm._v(\"| \")]):_vm._e(),_vm._v(\"реципиент \")]):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(row.item.phone)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Телефон:\")])]),_vm._v(\" \"),_c('b-col',[_vm._v(_vm._s(row.item.phone))])],1):_vm._e(),_vm._v(\" \"),(row.item.mobile)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Мобильный:\")])]),_vm._v(\" \"),_c('b-col',[_vm._v(_vm._s(row.item.mobile))])],1):_vm._e(),_vm._v(\" \"),(row.item.email)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Email:\")])]),_vm._v(\" \"),_c('b-col',[_c('a',{attrs:{\"href\":(\"mailto:\" + (row.item.email))}},[_vm._v(_vm._s(row.item.email))])])],1):_vm._e(),_vm._v(\" \"),(row.item.address)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Адрес:\")])]),_vm._v(\" \"),_c('b-col',[_vm._v(_vm._s(row.item.address))])],1):_vm._e(),_vm._v(\" \"),(row.item.description)?_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"4\"}},[_c('b',[_vm._v(\"Доп. информация:\")])]),_vm._v(\" \"),_c('b-col',[_vm._v(_vm._s(row.item.description))])],1):_vm._e(),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"Скрыть\")])],1)]}}])}),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.searchObject.totalCount,\"per-page\":_vm.searchObject.pageSize},on:{\"change\":_vm.goToPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22e0634e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Persons.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22e0634e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Persons.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Persons.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Persons.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22e0634e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Persons.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22e0634e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Persons.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-alert',{attrs:{\"dismissible\":\"\",\"show\":_vm.errors.length !== 0,\"variant\":\"danger\"},on:{\"dismissed\":_vm.closeBoard}},[_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('h5',[_vm._v(\"Errors: \")]),_vm._v(\" \"),_vm._l((_vm.errors),function(error){return _c('p',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(error.message)+\"\\n\\t\\t\\t\")])})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a6fd63ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ErrorBoard.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorBoard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ErrorBoard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a6fd63ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ErrorBoard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ErrorBoard.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<b-col cols=\"12\">\r\n\t\t<b-alert dismissible @dismissed=\"closeBoard\" :show=\"errors.length !== 0\" variant=\"danger\">\r\n\t\t\t<b-col cols=\"10\">\r\n\t\t\t\t<h5>Errors: </h5>\r\n\t\t\t\t<p v-for=\"error of errors\">\r\n\t\t\t\t\t{{error.message}}\r\n\t\t\t\t</p>\t\t\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t</b-alert>\r\n\t</b-col>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ErrorBoard',\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  props: ['errors'],\r\n  methods: {\r\n  \tcloseBoard(){\r\n  \t\tthis.$emit('clearerrors');\r\n  \t}\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ErrorBoard.vue","<template>\r\n\t<section>\r\n\t\t<b-container>\r\n\t\t\t<b-row>\r\n\t\t\t\t<b-col cols=\"12\">\r\n\t\t\t\t\t<h1>Добавление персоны</h1>\r\n\t\t\t\t</b-col>\r\n\t\t\t</b-row>\r\n\t\t\t<b-row>\r\n\t\t\t\t<error-board :errors=\"errors\" @clearerrors=\"clearErrors\"></error-board>\r\n\t\t\t</b-row>\r\n\t\t\t<b-row class=\"mdlContent\">\r\n\t\t\t\t<b-col cols=\"12\">\r\n\t\t\t\t\t<b-form @submit.prevent=\"addPerson\" method=\"POST\">\r\n\t\t\t\t\t\t<b-row>\r\n\t\t\t\t\t\t\t<b-col md=\"6\">\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Имя\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"firstName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" aria-describedby=\"firstNameLiveFeedback\" :state=\"firstName.length > 1\" id=\"firstName\" name=\"firstName\" v-model=\"firstName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t\t<b-form-invalid-feedback id=\"firstNameLiveFeedback\">\r\n\t\t\t\t\t\t\t\t\t\tВведите не меньше 2 букв\r\n\t\t\t\t\t\t\t\t\t</b-form-invalid-feedback>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Фамилия\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"lastName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"lastName\" name=\"lastName\" v-model=\"lastName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Отчество\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"middleName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" class=\"form-control\" id=\"middleName\" name=\"middleName\" v-model=\"middleName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Пол\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"sex\">\r\n\t\t\t\t\t\t\t\t\t<b-form-select id=\"sex\" name=\"sex\" v-model=\"sex\">\r\n\t\t\t\t\t\t\t\t\t\t<option selected value=\"male\">мужской</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"female\">женский</option>\r\n\t\t\t\t\t\t\t\t\t</b-form-select>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Удостовение личности\" :label-cols=\"6\" breakpoints=\"md\" label-for=\"passport\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"passport\" name=\"passport\" v-model=\"passport\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"FIN-код\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"fin\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"fin\" name=\"fin\" :state=\"fin.length == 7\" :formatter=\"(value)=>{return value.toUpperCase()}\" aria-describedby=\"finLiveFeedback\" v-model=\"fin\"></b-form-input>\r\n\t\t\t\t\t\t\t\t\t<b-form-invalid-feedback id=\"finLiveFeedback\">\r\n\t\t\t\t\t\t\t\t      FIN содержит 7 символов\r\n\t\t\t\t\t\t\t\t\t</b-form-invalid-feedback>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Адрес\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"address\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"address\" name=\"address\" v-model=\"address\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t\t<b-col md=\"6\">\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Телефон\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"phone\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"phone\" name=\"phone\" v-model=\"phone\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Моб. телефон\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"mobile\" name=\"mobile\" v-model=\"mobile\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"E-mail\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"email\" name=\"email\" v-model=\"email\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Группа крови\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"bloodType\">\r\n\t\t\t\t\t\t\t\t\t<b-form-select id=\"bloodType\" value-field=\"_id\" text-field=\"typeName\" :options=\"bloodTypes\" name=\"bloodType\" v-model=\"bloodType\"></b-form-select>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group>\r\n\t\t\t\t\t\t\t\t\t<b-form-checkbox id=\"donor\"\r\n\t\t\t\t                     v-model=\"donor\" name=\"donor\">\r\n\t\t\t\t\t\t\t\t      Донор\r\n\t\t\t\t\t\t\t\t    </b-form-checkbox>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Доп. информация\" :label-cols=\"4\" breakpoints=\"md\" label-for=\"description\">\r\n\t\t\t\t\t\t\t\t\t<b-form-textarea id=\"description\" name=\"description\" rows=\"4\" v-model=\"description\"></b-form-textarea>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t\t<div class=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t<b-col cols=\"3\" class=\"btnPanel\">\r\n\t\t\t\t\t\t\t\t<b-btn type=\"submit\" size=\"lg\" variant=\"primary\">Создать</b-btn>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t</b-row>\r\n\t\t\t\t\t</b-form>\r\n\t\t\t\t</b-col>\r\n\t\t\t</b-row>\r\n\t\t</b-container>\t\t\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport PersonService from '@/services/PersonService'\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\nimport ErrorBoard from '@/components/ErrorBoard'\r\n\r\nexport default {\r\n  name: 'PersonAdd',\r\n  data () {\r\n    return {\r\n    \tfirstName: '',\r\n    \tlastName: '',\r\n    \tmiddleName: '',\r\n    \tpassport: '',\r\n\t\tfin: '',\r\n\t\taddress: '',\r\n\t\tphone: '',\r\n\t\tmobile: '',\r\n\t\temail: '',\r\n\t\tdonor: null,\r\n\t\tsex: 'male',\r\n\t\tbloodType: 1,\r\n\t\tdescription: '',\r\n\t\tbloodTypes: [],\r\n\t\terrors: []\r\n    }\r\n  },\r\n  methods: {\r\n    async addPerson() {\r\n      if(!this.fin || !this.firstName || !this.sex || \r\n      \t!this.bloodType || this.fin.length != 7){\r\n      \treturn this.errors.push({message: \"Заполните правильно все обязательные поля\"});\r\n      }\r\n      try{\r\n\t      const response = await PersonService.addPerson({\r\n\t    \tfirstName: this.firstName,\r\n\t    \tlastName: this.lastName,\r\n\t    \tmiddleName: this.middleName,\r\n\t    \tpassport: this.passport,\r\n\t\t\tfin: this.fin,\r\n\t\t\taddress: this.address,\r\n\t\t\tphone: this.phone,\r\n\t\t\tmobile: this.mobile,\r\n\t\t\temail: this.email,\r\n\t\t\tdonor: this.donor,\r\n\t\t\tsex: this.sex,\r\n\t\t\tbloodType: this.bloodType,\r\n\t\t\tdescription: this.description\r\n\t      })\r\n\t      if(undefined !== response.data.success && !response.data.success){\r\n\t      \tif(response.data.errors){\r\n\t      \t\tresponse.data.errors.forEach((item, i, arr)=>{\r\n\t      \t\t\tthis.errors.push(item);\r\n\t      \t\t});\r\n\t      \t}\r\n\t      }\r\n\t      else{\r\n\t      \tthis.$router.push({name: 'PersonShow', params: {id: response.data.data._id}});\r\n\t      }\r\n      }\r\n      catch(err){\r\n      \tif(!err.response){\r\n      \t\treturn this.errors.push({message: \"Отсутствует соединение с сервером\"});\r\n      \t}\r\n      \tthis.errors.push({message: err.response.data.errors});\r\n      }\r\n    },\r\n  \tasync getBloodTypes(){\r\n  \t\tconst response = await BloodTypeService.fetchBloodTypes();\r\n      \tthis.bloodTypes = response.data.data;\r\n  \t},\r\n  \tclearErrors(){\r\n  \t\tthis.errors = [];\r\n  \t}\r\n  },\r\n  created: function() {\r\n  \tthis.getBloodTypes();\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\th1{\r\n\t  background: url(../assets/id-card_64x64.png) no-repeat;\r\n\t  padding: 0 0 18px 72px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/PersonAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Добавление персоны\")])])],1),_vm._v(\" \"),_c('b-row',[_c('error-board',{attrs:{\"errors\":_vm.errors},on:{\"clearerrors\":_vm.clearErrors}})],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-form',{attrs:{\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();_vm.addPerson($event)}}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Имя\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"firstName\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"aria-describedby\":\"firstNameLiveFeedback\",\"state\":_vm.firstName.length > 1,\"id\":\"firstName\",\"name\":\"firstName\"},model:{value:(_vm.firstName),callback:function ($$v) {_vm.firstName=$$v},expression:\"firstName\"}}),_vm._v(\" \"),_c('b-form-invalid-feedback',{attrs:{\"id\":\"firstNameLiveFeedback\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tВведите не меньше 2 букв\\n\\t\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Фамилия\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"lastName\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"lastName\",\"name\":\"lastName\"},model:{value:(_vm.lastName),callback:function ($$v) {_vm.lastName=$$v},expression:\"lastName\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Отчество\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"middleName\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"middleName\",\"name\":\"middleName\"},model:{value:(_vm.middleName),callback:function ($$v) {_vm.middleName=$$v},expression:\"middleName\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Пол\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"sex\"}},[_c('b-form-select',{attrs:{\"id\":\"sex\",\"name\":\"sex\"},model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}},[_c('option',{attrs:{\"selected\":\"\",\"value\":\"male\"}},[_vm._v(\"мужской\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"female\"}},[_vm._v(\"женский\")])])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Удостовение личности\",\"label-cols\":6,\"breakpoints\":\"md\",\"label-for\":\"passport\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"passport\",\"name\":\"passport\"},model:{value:(_vm.passport),callback:function ($$v) {_vm.passport=$$v},expression:\"passport\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"FIN-код\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"fin\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"fin\",\"name\":\"fin\",\"state\":_vm.fin.length == 7,\"formatter\":function (value){return value.toUpperCase()},\"aria-describedby\":\"finLiveFeedback\"},model:{value:(_vm.fin),callback:function ($$v) {_vm.fin=$$v},expression:\"fin\"}}),_vm._v(\" \"),_c('b-form-invalid-feedback',{attrs:{\"id\":\"finLiveFeedback\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t      FIN содержит 7 символов\\n\\t\\t\\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Адрес\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"address\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"address\",\"name\":\"address\"},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}})],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Телефон\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"phone\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"phone\",\"name\":\"phone\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Моб. телефон\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"mobile\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"mobile\",\"name\":\"mobile\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"E-mail\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"mobile\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"email\",\"name\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Группа крови\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"bloodType\"}},[_c('b-form-select',{attrs:{\"id\":\"bloodType\",\"value-field\":\"_id\",\"text-field\":\"typeName\",\"options\":_vm.bloodTypes,\"name\":\"bloodType\"},model:{value:(_vm.bloodType),callback:function ($$v) {_vm.bloodType=$$v},expression:\"bloodType\"}})],1),_vm._v(\" \"),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"id\":\"donor\",\"name\":\"donor\"},model:{value:(_vm.donor),callback:function ($$v) {_vm.donor=$$v},expression:\"donor\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t      Донор\\n\\t\\t\\t\\t\\t\\t\\t    \")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Доп. информация\",\"label-cols\":4,\"breakpoints\":\"md\",\"label-for\":\"description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"description\",\"name\":\"description\",\"rows\":\"4\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"}),_vm._v(\" \"),_c('b-col',{staticClass:\"btnPanel\",attrs:{\"cols\":\"3\"}},[_c('b-btn',{attrs:{\"type\":\"submit\",\"size\":\"lg\",\"variant\":\"primary\"}},[_vm._v(\"Создать\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c1ee91d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PersonAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c1ee91d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PersonAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c1ee91d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PersonAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c1ee91d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PersonAdd.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <h1>{{title}}</h1>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mdlContent\">\r\n        <b-col cols=\"12\">\r\n            <div class=\"card\">\r\n              <h5 class=\"card-header\"><span v-if=\"person.firstName\">{{person.firstName}} {{person.lastName}}, {{person.middleName}}</span></h5>\r\n              <div class=\"card-body\">\r\n                <p v-if=\"person.bloodType\"><b>Группа крови:</b> {{person.bloodType.typeName}}</p>\r\n                <p v-if=\"person.sex\"><b>Пол:</b> {{person.sex == 'male' ? 'мужской' : 'женский'}}</p>\r\n                <p v-if=\"person.address\"><b>Адрес:</b> {{person.address}}</p>\r\n                <p v-if=\"person.phone\"><b>Телефон:</b> {{person.phone}}</p>\r\n                <p v-if=\"person.mobile\"><b>Мобильный:</b> {{person.mobile}}</p>\r\n                <p v-if=\"person.email\"><b>E-mail:</b> <a :href=\"`mailto:${person.email}`\">{{person.email}}</a></p>\r\n                <p v-if=\"person.passport\"><b>Удостоверение:</b> {{person.passport}}</p>\r\n                <p v-if=\"person.fin\"><b>FIN:</b> {{person.fin}}</p>\r\n                <p v-if=\"person.description\"><b>Доп. информация:</b> {{person.description}}</p>\r\n                <p v-if=\"person.donor\"><b>Донор</b></p>\r\n                <p v-if=\"person.recipient\"><b>Реципиент</b></p>\r\n                <b-button class=\"col-sm-3\" v-bind:to=\"{ name: 'DrawAdd', params: {id: person._id }}\" variant=\"danger\">Забор</b-button>\r\n                <b-button class=\"col-sm-4\" v-bind:to=\"{ name: 'PersonAdd' }\" variant=\"success\">Новая персона</b-button>\r\n                <b-button class=\"col-sm-3\" v-bind:to=\"{ name: 'Persons' }\" variant=\"primary\">Персоны</b-button>\r\n              </div>\r\n            </div>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n\r\n        <router-view></router-view>\r\n\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport PersonService from '@/services/PersonService'\r\n/*id: person._id*/\r\nexport default {\r\n  name: 'PersonShow',\r\n  data () {\r\n    return {\r\n      person: {}\r\n    }\r\n  },\r\n  props: ['mode'],\r\n  computed: {\r\n    title(){\r\n      console.log(this.mode);\r\n      let title;\r\n      switch(this.mode){\r\n        case 'donor':\r\n          title = 'Донор';\r\n          break;\r\n        case 'recipient':\r\n          title = 'Реципиент';\r\n          break;\r\n        default:\r\n          title = 'Персона';\r\n      }\r\n      return title;\r\n    }\r\n  },\r\n  methods: {\r\n    async getPerson() {\r\n      const response = await PersonService.getPerson({ id: this.$route.params.id });\r\n\r\n      if(response.data.success !== false){\r\n        this.person = response.data.data;\r\n      }\r\n    }\r\n  },\r\n  created: function() {\r\n    console.log(\"PersonShow mode:\", this.mode);\r\n  },\r\n  mounted () {\r\n    this.getPerson()\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/person-info_64x64.png) no-repeat;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/PersonShow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))])])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[(_vm.person.firstName)?_c('span',[_vm._v(_vm._s(_vm.person.firstName)+\" \"+_vm._s(_vm.person.lastName)+\", \"+_vm._s(_vm.person.middleName))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.person.bloodType)?_c('p',[_c('b',[_vm._v(\"Группа крови:\")]),_vm._v(\" \"+_vm._s(_vm.person.bloodType.typeName))]):_vm._e(),_vm._v(\" \"),(_vm.person.sex)?_c('p',[_c('b',[_vm._v(\"Пол:\")]),_vm._v(\" \"+_vm._s(_vm.person.sex == 'male' ? 'мужской' : 'женский'))]):_vm._e(),_vm._v(\" \"),(_vm.person.address)?_c('p',[_c('b',[_vm._v(\"Адрес:\")]),_vm._v(\" \"+_vm._s(_vm.person.address))]):_vm._e(),_vm._v(\" \"),(_vm.person.phone)?_c('p',[_c('b',[_vm._v(\"Телефон:\")]),_vm._v(\" \"+_vm._s(_vm.person.phone))]):_vm._e(),_vm._v(\" \"),(_vm.person.mobile)?_c('p',[_c('b',[_vm._v(\"Мобильный:\")]),_vm._v(\" \"+_vm._s(_vm.person.mobile))]):_vm._e(),_vm._v(\" \"),(_vm.person.email)?_c('p',[_c('b',[_vm._v(\"E-mail:\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":(\"mailto:\" + (_vm.person.email))}},[_vm._v(_vm._s(_vm.person.email))])]):_vm._e(),_vm._v(\" \"),(_vm.person.passport)?_c('p',[_c('b',[_vm._v(\"Удостоверение:\")]),_vm._v(\" \"+_vm._s(_vm.person.passport))]):_vm._e(),_vm._v(\" \"),(_vm.person.fin)?_c('p',[_c('b',[_vm._v(\"FIN:\")]),_vm._v(\" \"+_vm._s(_vm.person.fin))]):_vm._e(),_vm._v(\" \"),(_vm.person.description)?_c('p',[_c('b',[_vm._v(\"Доп. информация:\")]),_vm._v(\" \"+_vm._s(_vm.person.description))]):_vm._e(),_vm._v(\" \"),(_vm.person.donor)?_c('p',[_c('b',[_vm._v(\"Донор\")])]):_vm._e(),_vm._v(\" \"),(_vm.person.recipient)?_c('p',[_c('b',[_vm._v(\"Реципиент\")])]):_vm._e(),_vm._v(\" \"),_c('b-button',{staticClass:\"col-sm-3\",attrs:{\"to\":{ name: 'DrawAdd', params: {id: _vm.person._id }},\"variant\":\"danger\"}},[_vm._v(\"Забор\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"col-sm-4\",attrs:{\"to\":{ name: 'PersonAdd' },\"variant\":\"success\"}},[_vm._v(\"Новая персона\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"col-sm-3\",attrs:{\"to\":{ name: 'Persons' },\"variant\":\"primary\"}},[_vm._v(\"Персоны\")])],1)])])],1)],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b10b3fd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PersonShow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b10b3fd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PersonShow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonShow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonShow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b10b3fd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PersonShow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b10b3fd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PersonShow.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<section>\r\n\t\t<div class=\"container\">\r\n\t\t\t<b-row>\r\n\t\t\t\t<b-col cols=\"12\">\r\n\t\t\t\t\t<h1>Редактирование персоны</h1>\r\n\t\t\t\t\t<error-board :errors=\"errors\" @clearerrors=\"clearErrors\"></error-board>\r\n\t\t\t\t\t<b-form @submit.prevent=\"addPerson\" method=\"POST\">\r\n\t\t\t\t\t\t<b-row>\r\n\t\t\t\t\t\t\t<b-col cols=\"6\">\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Имя\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"firstName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" aria-describedby=\"firstNameLiveFeedback\" :state=\"firstName.length > 1\" id=\"firstName\" name=\"firstName\" v-model=\"firstName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t\t<b-form-invalid-feedback id=\"firstNameLiveFeedback\">\r\n\t\t\t\t\t\t\t\t      Введите не меньше 2 букв\r\n\t\t    \t\t\t\t\t\t</b-form-invalid-feedback>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Фамилия\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"lastName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"lastName\" name=\"lastName\" v-model=\"lastName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Отчество\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"middleName\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" class=\"form-control\" id=\"middleName\" name=\"middleName\" v-model=\"middleName\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Удостовение личности\" :label-cols=\"6\" breakpoints=\"md\" label-for=\"passport\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"passport\" name=\"passport\" v-model=\"passport\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"FIN-код\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"fin\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"fin\" name=\"fin\" :state=\"fin.length == 7\" :formatter=\"(value)=>{return value.toUpperCase()}\" aria-describedby=\"finLiveFeedback\" v-model=\"fin\"></b-form-input>\r\n\t\t\t\t\t\t\t\t\t<b-form-invalid-feedback id=\"finLiveFeedback\">\r\n\t\t\t\t\t\t\t\t      FIN содержит 7 символов\r\n\t\t    \t\t\t\t\t\t</b-form-invalid-feedback>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Адрес\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"address\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"address\" name=\"address\" v-model=\"address\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t\t<b-col cols=\"6\">\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Телефон\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"phone\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"phone\" name=\"phone\" v-model=\"phone\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Моб. телефон\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"mobile\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" id=\"mobile\" name=\"mobile\" v-model=\"mobile\"></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Группа крови\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"bloodType\">\r\n\t\t\t\t\t\t\t\t\t<b-form-select id=\"bloodType\" value-field=\"_id\" text-field=\"typeName\" :options=\"bloodTypes\" name=\"bloodType\" v-model=\"bloodType\"></b-form-select>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Пол\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"sex\">\r\n\t\t\t\t\t\t\t\t\t<b-form-select id=\"sex\" name=\"sex\" v-model=\"sex\">\r\n\t\t\t\t\t\t\t\t\t\t<option selected value=\"male\">мужской</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"female\">женский</option>\r\n\t\t\t\t\t\t\t\t\t</b-form-select>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group horizontal label=\"Доп. информация\" :label-cols=\"4\" breakpoints=\"md\" label-for=\"description\">\r\n\t\t\t\t\t\t\t\t\t<b-form-textarea id=\"description\" name=\"description\" rows=\"4\" v-model=\"description\"></b-form-textarea>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t\t<b-col cols=\"6\">\r\n\t\t\t\t\t\t\t\t<b-btn type=\"submit\" variant=\"primary\">Создать</b-btn>\r\n\t\t\t\t\t\t\t</b-col>\r\n\t\t\t\t\t\t</b-row>\r\n\t\t\t\t\t</b-form>\r\n\t\t\t\t</b-col>\r\n\t\t\t</b-row>\r\n\t\t</div>\t\t\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport PersonService from '@/services/PersonService'\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\n\r\nexport default {\r\n  name: 'PersonEdit',\r\n  data () {\r\n    return {\r\n    \tperson: {},\r\n\t\tbloodTypes: [],\r\n\t\terrors: []\r\n    }\r\n  },\r\n  methods: {\r\n    async updatePerson() {\r\n      await PersonService.updatePerson({\r\n      \tid: this.person._id,\r\n    \tfirstName: this.person.firstName,\r\n    \tlastName: this.person.lastName,\r\n    \tmiddleName: this.person.middleName,\r\n    \tpassport: this.person.passport,\r\n\t\tfin: this.person.fin,\r\n\t\taddress: this.person.address,\r\n\t\tphone: this.person.phone,\r\n\t\tmobile: this.person.mobile,\r\n\t\tsex: this.person.sex,\r\n\t\tbloodType: this.person.bloodType,\r\n\t\tdescription: this.person.description\r\n      });\r\n      alert('Person updated');\r\n    },\r\n    async getPerson() {\r\n      const response = await PersonService.getPerson({ id: this.$route.params.id});\r\n      this.person = response.data.data;\r\n    },\r\n  \tasync getBloodTypes(){\r\n  \t\tconst response = await BloodTypeService.fetchBloodTypes();\r\n      \tthis.bloodTypes = response.data.data;\r\n  \t},\r\n  \tclearErrors(){\r\n  \t\tthis.errors = [];\r\n  \t}\r\n  },\r\n  created: function() {\r\n  \tthis.getBloodTypes();\r\n  },\r\n  mounted: function(){\r\n  \tthis.getPerson();\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/PersonEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"container\"},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Редактирование персоны\")]),_vm._v(\" \"),_c('error-board',{attrs:{\"errors\":_vm.errors},on:{\"clearerrors\":_vm.clearErrors}}),_vm._v(\" \"),_c('b-form',{attrs:{\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();_vm.addPerson($event)}}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Имя\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"firstName\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"aria-describedby\":\"firstNameLiveFeedback\",\"state\":_vm.firstName.length > 1,\"id\":\"firstName\",\"name\":\"firstName\"},model:{value:(_vm.firstName),callback:function ($$v) {_vm.firstName=$$v},expression:\"firstName\"}}),_vm._v(\" \"),_c('b-form-invalid-feedback',{attrs:{\"id\":\"firstNameLiveFeedback\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t      Введите не меньше 2 букв\\n\\t    \\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Фамилия\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"lastName\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"lastName\",\"name\":\"lastName\"},model:{value:(_vm.lastName),callback:function ($$v) {_vm.lastName=$$v},expression:\"lastName\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Отчество\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"middleName\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"middleName\",\"name\":\"middleName\"},model:{value:(_vm.middleName),callback:function ($$v) {_vm.middleName=$$v},expression:\"middleName\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Удостовение личности\",\"label-cols\":6,\"breakpoints\":\"md\",\"label-for\":\"passport\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"passport\",\"name\":\"passport\"},model:{value:(_vm.passport),callback:function ($$v) {_vm.passport=$$v},expression:\"passport\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"FIN-код\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"fin\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"fin\",\"name\":\"fin\",\"state\":_vm.fin.length == 7,\"formatter\":function (value){return value.toUpperCase()},\"aria-describedby\":\"finLiveFeedback\"},model:{value:(_vm.fin),callback:function ($$v) {_vm.fin=$$v},expression:\"fin\"}}),_vm._v(\" \"),_c('b-form-invalid-feedback',{attrs:{\"id\":\"finLiveFeedback\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t      FIN содержит 7 символов\\n\\t    \\t\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Адрес\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"address\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"address\",\"name\":\"address\"},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}})],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Телефон\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"phone\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"phone\",\"name\":\"phone\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Моб. телефон\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"mobile\"}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"id\":\"mobile\",\"name\":\"mobile\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Группа крови\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"bloodType\"}},[_c('b-form-select',{attrs:{\"id\":\"bloodType\",\"value-field\":\"_id\",\"text-field\":\"typeName\",\"options\":_vm.bloodTypes,\"name\":\"bloodType\"},model:{value:(_vm.bloodType),callback:function ($$v) {_vm.bloodType=$$v},expression:\"bloodType\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Пол\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"sex\"}},[_c('b-form-select',{attrs:{\"id\":\"sex\",\"name\":\"sex\"},model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}},[_c('option',{attrs:{\"selected\":\"\",\"value\":\"male\"}},[_vm._v(\"мужской\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"female\"}},[_vm._v(\"женский\")])])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Доп. информация\",\"label-cols\":4,\"breakpoints\":\"md\",\"label-for\":\"description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"description\",\"name\":\"description\",\"rows\":\"4\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-btn',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Создать\")])],1)],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dfb3d110\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PersonEdit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dfb3d110\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PersonEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PersonEdit.vue\n// module id = null\n// module chunks = ","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  fetchDraws (queryObj) {\r\n    return Api().get('api/draw', {params: queryObj});\r\n  },\r\n  addDraw(params) {\r\n    return Api().post('api/draw', params);\r\n  },\r\n  getDraw(params) {\r\n    return Api().get('api/draw/' + params.id);\r\n  },\r\n  updateDraw(params) {\r\n    return Api().put('api/draw/' + params.id, params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/DrawService.js","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  fetchSources () {\r\n    return Api().get('api/source')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/SourceService.js","<template>\r\n  <section>\r\n    <b-container> \r\n      <b-row>\r\n        <b-col cols=\"12\" v-if=\"mode !== 'donordraws'\">\r\n          <h1 class=\"mb-4\">Заборы крови</h1>\r\n        </b-col>      \r\n      </b-row> \r\n      <b-row class=\"mdlContent\">\r\n        <h2 class=\"mb-4 col-md-12\" v-if=\"mode === 'donordraws'\">Заборы крови</h2>\r\n        <b-col cols=\"12\">\r\n          <b-form inline @submit.prevent=\"searchDraw\">\r\n            <label class=\"sr-only\" for=\"person\">Имя или фамилия</label>\r\n            <b-input class=\"mb-2 mr-sm-2 mb-sm-0\" v-if=\"mode !== 'donordraws'\" v-model=\"searchObject.person\" id=\"person\" name=\"person\" placeHolder=\"имя\" />\r\n            <label class=\"sr-only\" for=\"date\">Дата</label>\r\n            <b-input class=\"mb-2 mr-sm-2 mb-sm-0\" type=\"date\" v-model=\"searchObject.date\" id=\"date\" name=\"date\"  />\r\n            <label class=\"sr-only\" for=\"bloodType\">Группа крови</label>\r\n            <b-form-select class=\"mb-2 mr-sm-2 mb-sm-0\" id=\"bloodType\" value-field=\"_id\" text-field=\"typeName\" :options=\"bloodTypes\" name=\"bloodType\" v-model=\"searchObject.bloodType\"></b-form-select>\r\n            <b-form-select class=\"mb-2 mr-sm-2 mb-sm-0\" id=\"source\" value-field=\"_id\" text-field=\"sourceName\" :options=\"sources\" name=\"source\" v-model=\"searchObject.source\"></b-form-select>\r\n            <b-button type=\"submit\" variant=\"primary\">Найти</b-button>\r\n          </b-form>\r\n          <b-table \r\n            striped \r\n            stacked=\"md\" \r\n            small \r\n            hover \r\n            no-provider-paging \r\n            no-provider-sorting \r\n            no-provider-filtering \r\n            no-local-sorting\r\n            @sort-changed=\"sortingChanged\"\r\n            :items=\"draws\" \r\n            :fields=\"fields\"\r\n            class=\"mt-4\">\r\n            <template slot=\"index\" v-bind:offset=\"searchObject.offset\" slot-scope=\"data\">\r\n              {{data.value + 1}}\r\n            </template>\r\n            <template slot=\"source\" slot-scope=\"data\">\r\n              {{data.value.sourceName}} ({{data.value.measure}})\r\n            </template>\r\n            <template slot=\"bloodType\" slot-scope=\"data\">\r\n              {{data.value.typeName}}\r\n            </template>\r\n            <template slot=\"person\" slot-scope=\"data\">\r\n              {{data.value.fullName}}\r\n            </template>\r\n            <template slot=\"actions\" slot-scope=\"row\">\r\n              <div v-if=\"mode !== 'drawselect'\" class=\"icon-link\">\r\n                <b-link class=\"draw-info\" router-tag=\"div\" v-bind:to=\"{ name: 'DrawShow', params: {id: row.item._id }}\" title=\"просмотреть забор\"></b-link>\r\n              </div>\r\n              <div v-if=\"mode !== 'drawselect'\" class=\"icon-link\">\r\n                <b-link class=\"trans-add\" router-tag=\"div\" v-bind:to=\"{ name: 'TransAdd', params: {id: row.item._id }}\" title=\"сделать переливание\"></b-link>\r\n              </div>\r\n              <b-btn v-if=\"mode==='drawselect'\" @click=\"selectDraw(row.item)\" size=\"sm\">выбрать</b-btn>\r\n            </template>        \r\n      \t\t</b-table>\r\n          <b-row>\r\n            <b-col cols=\"12\">\r\n              <b-pagination :total-rows=\"searchObject.totalCount\" @change =\"goToPage\" v-model=\"currentPage\" :per-page=\"searchObject.pageSize\"></b-pagination>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>    \r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport DrawService from '@/services/DrawService'\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\nimport SourceService from '@/services/SourceService'\r\n\r\nexport default {\r\n  name: 'Persons',\r\n  data () {\r\n    return {\r\n      fields: [\r\n          { key: 'index', label: \"#\"},\r\n          { key: 'date', label: 'Дата', sortable: true},\r\n          { key: 'source', label: 'Материал'},\r\n          { key: 'volume', label: 'Объем'},\r\n          { key: 'remainder', label: 'Остаток'},\r\n          { key: 'bloodType', label: 'Группа крови'},\r\n          { key: 'person', label: 'Донор'},\r\n          { key: 'actions', label: 'Action'}\r\n        ],\r\n      currentPage: 1,\r\n    \tdraws: [],\r\n      bloodTypes: [],\r\n    \tsources: [],\r\n      searchObject: {\r\n        bloodType: null,\r\n        person: '',\r\n        source: null,\r\n        date: null,\r\n        pageSize: 10,\r\n        totalCount: 0,\r\n        offset: 0,\r\n        personId: null,\r\n        sortObj: {\r\n          date: true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  props: ['mode'],\r\n  methods: {\r\n    async getDraws() {\r\n      const response = await DrawService.fetchDraws(this.searchObject);\r\n      if(response.data.success){\r\n        this.draws = response.data.data.map((draw, index) => {\r\n            draw.person.fullName = this.$tools.smartJoin([\r\n              draw.person.firstName, draw.person.lastName\r\n            ]);\r\n            draw.index = index + this.searchObject.offset;\r\n            return draw;\r\n        });\r\n        this.searchObject.totalCount = response.data.totalCount;\r\n      }\r\n    },\r\n    async getBloodTypes(){\r\n      const response = await BloodTypeService.fetchBloodTypes();\r\n      if(response.data.success){\r\n        this.bloodTypes = response.data.data;\r\n        this.bloodTypes.push({ \r\n          _id: null, \r\n          typeName: 'Все группы крови'\r\n        });\r\n      }\r\n    },\r\n    async getSources(){\r\n      const response = await SourceService.fetchSources();\r\n      if(response.data.success){\r\n        this.sources = response.data.data;\r\n        this.sources.push({ \r\n          _id: null, \r\n          sourceName: 'Все материалы'\r\n        });\r\n      }\r\n    },\r\n    selectDraw(person){\r\n      this.$emit('selectdraw', person);\r\n    },\r\n    async searchDraw(){\r\n      this.searchObject.offset = 0;\r\n      await this.getDraws();\r\n      this.currentPage = Math.ceil(this.searchObject.offset / this.searchObject.pageSize);\r\n    },\r\n    goToPage(pageNumber){\r\n      this.searchObject.offset = (pageNumber - 1) * this.searchObject.pageSize;\r\n      this.getDraws();\r\n    },\r\n    sortingChanged(ctx){\r\n      this.searchObject.sortObj[ctx.sortBy] = ctx.sortDesc;\r\n      this.getDraws();\r\n    }\r\n  },\r\n  created: function() {\r\n    if(this.mode === 'donordraws')\r\n      this.searchObject.personId = this.$route.params.id;\r\n    this.getDraws();\r\n    this.getSources();\r\n  \tthis.getBloodTypes();\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/draws_64x64.png) no-repeat;\r\n}\r\n.draw-info{\r\n  background: url(../assets/draw-info_32x32.png) no-repeat;\r\n}\r\n.trans-add{\r\n  background: url(../assets/trans-add_32x32.png) no-repeat;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Draws.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[(_vm.mode !== 'donordraws')?_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',{staticClass:\"mb-4\"},[_vm._v(\"Заборы крови\")])]):_vm._e()],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[(_vm.mode === 'donordraws')?_c('h2',{staticClass:\"mb-4 col-md-12\"},[_vm._v(\"Заборы крови\")]):_vm._e(),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-form',{attrs:{\"inline\":\"\"},on:{\"submit\":function($event){$event.preventDefault();_vm.searchDraw($event)}}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"person\"}},[_vm._v(\"Имя или фамилия\")]),_vm._v(\" \"),(_vm.mode !== 'donordraws')?_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"person\",\"name\":\"person\",\"placeHolder\":\"имя\"},model:{value:(_vm.searchObject.person),callback:function ($$v) {_vm.$set(_vm.searchObject, \"person\", $$v)},expression:\"searchObject.person\"}}):_vm._e(),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"date\"}},[_vm._v(\"Дата\")]),_vm._v(\" \"),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"type\":\"date\",\"id\":\"date\",\"name\":\"date\"},model:{value:(_vm.searchObject.date),callback:function ($$v) {_vm.$set(_vm.searchObject, \"date\", $$v)},expression:\"searchObject.date\"}}),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"bloodType\"}},[_vm._v(\"Группа крови\")]),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"bloodType\",\"value-field\":\"_id\",\"text-field\":\"typeName\",\"options\":_vm.bloodTypes,\"name\":\"bloodType\"},model:{value:(_vm.searchObject.bloodType),callback:function ($$v) {_vm.$set(_vm.searchObject, \"bloodType\", $$v)},expression:\"searchObject.bloodType\"}}),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"source\",\"value-field\":\"_id\",\"text-field\":\"sourceName\",\"options\":_vm.sources,\"name\":\"source\"},model:{value:(_vm.searchObject.source),callback:function ($$v) {_vm.$set(_vm.searchObject, \"source\", $$v)},expression:\"searchObject.source\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Найти\")])],1),_vm._v(\" \"),_c('b-table',{staticClass:\"mt-4\",attrs:{\"striped\":\"\",\"stacked\":\"md\",\"small\":\"\",\"hover\":\"\",\"no-provider-paging\":\"\",\"no-provider-sorting\":\"\",\"no-provider-filtering\":\"\",\"no-local-sorting\":\"\",\"items\":_vm.draws,\"fields\":_vm.fields},on:{\"sort-changed\":_vm.sortingChanged},scopedSlots:_vm._u([{key:\"index\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value + 1)+\"\\n          \")]}},{key:\"source\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.sourceName)+\" (\"+_vm._s(data.value.measure)+\")\\n          \")]}},{key:\"bloodType\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.typeName)+\"\\n          \")]}},{key:\"person\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.fullName)+\"\\n          \")]}},{key:\"actions\",fn:function(row){return [(_vm.mode !== 'drawselect')?_c('div',{staticClass:\"icon-link\"},[_c('b-link',{staticClass:\"draw-info\",attrs:{\"router-tag\":\"div\",\"to\":{ name: 'DrawShow', params: {id: row.item._id }},\"title\":\"просмотреть забор\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.mode !== 'drawselect')?_c('div',{staticClass:\"icon-link\"},[_c('b-link',{staticClass:\"trans-add\",attrs:{\"router-tag\":\"div\",\"to\":{ name: 'TransAdd', params: {id: row.item._id }},\"title\":\"сделать переливание\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.mode==='drawselect')?_c('b-btn',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.selectDraw(row.item)}}},[_vm._v(\"выбрать\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.searchObject.totalCount,\"per-page\":_vm.searchObject.pageSize},on:{\"change\":_vm.goToPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69888cce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Draws.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69888cce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Draws.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draws.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draws.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69888cce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Draws.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69888cce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Draws.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section>\r\n  \t<b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n  \t\t    <h1>Забор крови</h1>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <error-board :errors=\"errors\" @clearerrors=\"clearErrors\"></error-board>\r\n      </b-row>\r\n      <b-row class=\"mdlContent\">\r\n        <b-col md=\"6\">\r\n          <div class=\"card\">\r\n            <h5 class=\"card-header\"><b>Донор: </b><span v-if=\"person.firstName\">{{fullName}}</span></h5>\r\n            <div class=\"card-body\">\r\n              <p v-if=\"person.bloodType\"><b>Группа крови:</b> {{person.bloodType.typeName}}</p>\r\n              <p v-if=\"person.sex\"><b>Пол:</b> {{person.sex == 'male' ? 'мужской' : 'женский'}}</p>\r\n              <p v-if=\"person.address\"><b>Адрес:</b> {{person.address}}</p>\r\n              <p v-if=\"person.phone\"><b>Телефон:</b> {{person.phone}}</p>\r\n              <p v-if=\"person.mobile\"><b>Мобильный:</b> {{person.mobile}}</p>\r\n              <p v-if=\"person.passport\"><b>Удостоверение:</b> {{person.passport}}</p>\r\n              <p v-if=\"person.fin\"><b>FIN:</b> {{person.fin}}</p>\r\n              <p v-if=\"person.mobile\"><b>Мобильный:</b> {{person.mobile}}</p>\r\n              <p v-if=\"person.description\"><b>Доп. информация:</b> {{person.description}}</p>\r\n              <p v-if=\"person.donor\"><b>Донор</b></p>\r\n              <p v-if=\"person.recipient\"><b>Реципиент</b></p>\r\n\r\n              <b-btn variant=\"success\" v-b-modal.donModal>Выбрать донора</b-btn>\r\n              <!-- Modal Component -->\r\n              <b-modal ref=\"donModal\" id=\"donModal\" title=\"Выбор донора\" ok-only ok-title=\"Отменить\">\r\n                <person-window @selectperson=\"setDonor\" :mode=\"'personselect'\"></person-window>\r\n              </b-modal>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n        <b-col md=\"6\">\r\n          <b-form action=\"/api/person/add\" method=\"POST\">\r\n            <b-form-group horizontal label=\"Материал\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"source\">\r\n              <b-form-select id=\"source\" value-field=\"_id\" text-field=\"sourceName\" :options=\"sources\" name=\"source\" v-model=\"source\"></b-form-select>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Количество\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"volume\">\r\n              <b-form-input type=\"text\" class=\"form-control\" id=\"volume\" name=\"volume\" v-model=\"volume\"></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Дата\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"date\">\r\n              <b-form-input type=\"text\" class=\"form-control\" id=\"date\" name=\"date\" v-model=\"date\"></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Время\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"time\">\r\n              <b-form-input type=\"text\" class=\"form-control\" id=\"time\" name=\"date\" v-model=\"time\"></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Доп. информация\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"description\">\r\n              <b-form-textarea class=\"form-control\" id=\"description\" name=\"description\" rows=\"3\" v-model=\"description\"></b-form-textarea>\r\n            </b-form-group>\r\n          </b-form>\r\n        </b-col>\r\n        <b-col sm=\"12\">\r\n    \t\t\t<button type=\"button\" @click=\"addDraw\" class=\"btn btn-primary\">Произвести забор</button>\r\n        </b-col>\r\n  \t\t</b-row>\r\n  \t</b-container>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport PersonService from '@/services/PersonService'\r\nimport SourceService from '@/services/SourceService'\r\nimport DrawService from '@/services/DrawService'\r\nimport Person from '@/components/Persons'\r\n\r\nexport default {\r\n  name: 'DrawAdd',\r\n  data () {\r\n    return {\r\n    \tvolume: null,\r\n    \tsource: null,\r\n    \tdescription: '',\r\n      date: this.$tools.formatDate(new Date()),\r\n      time: this.$tools.formatTime(new Date()),\r\n    \tperson: {},\r\n    \tbloodTypes: [],\r\n    \tsources: [],\r\n      errors: []\r\n   }\r\n  },\r\n  components:{\r\n    'person-window' : Person \r\n  },\r\n  computed: {\r\n    fullName(){\r\n      return this.$tools.smartJoin([this.person.firstName, this.person.lastName, this.person.middleName]);\r\n    }\r\n  },\r\n  methods: {\r\n  \tasync addDraw() {\r\n      if(!this.volume || !this.source || !this.person._id || \r\n        !this.person.bloodType._id || !this.date){\r\n        return this.errors.push({message: \"Заполните правильно все обязательные поля\"});\r\n      }\r\n      try{\r\n        const response = await DrawService.addDraw({\r\n          volume: this.volume,\r\n          source: this.source,\r\n          person: this.person._id,\r\n          bloodType: this.person.bloodType._id,\r\n          date: this.date + ' ' + this.time,\r\n          description: this.description\r\n        });\r\n        if(undefined !== response.data.success && !response.data.success){\r\n          if(response.data.errors){\r\n            response.data.errors.forEach((item, i, arr)=>{\r\n              this.errors.push(item);\r\n            });\r\n          }\r\n        }\r\n        else{\r\n          this.$router.push({name: 'DrawShow', params: {id: response.data.data._id}});\r\n        }\r\n      } catch(err){\r\n        if(!err.response){\r\n          return this.errors.push({message: \"Отсутствует соединение с сервером\"});\r\n        }\r\n        this.errors.push({message: err.response.data.errors});        \r\n      }\r\n    },\r\n    async getPerson() {\r\n      const response = await PersonService.getPerson({ id: this.$route.params.id});\r\n      if(response.data.success !== false){\r\n      \tthis.person = response.data.data;\r\n      }\r\n    },\r\n  \tasync getSources(){\r\n  \t\tconst response = await SourceService.fetchSources();\r\n      \tif(response.data.success !== false){\r\n      \t\tthis.sources = response.data.data;\r\n      \t}\r\n  \t},\r\n    setDonor(person){\r\n      this.person = person;\r\n      this.$refs.donModal.hide();\r\n    },\r\n    clearErrors(){\r\n      this.errors = [];\r\n    }\r\n  },\r\n  created: async function() {\r\n  \tawait this.getSources();\r\n  \tthis.getPerson();\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/draw-make_64x64.png) no-repeat;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/DrawAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Забор крови\")])])],1),_vm._v(\" \"),_c('b-row',[_c('error-board',{attrs:{\"errors\":_vm.errors},on:{\"clearerrors\":_vm.clearErrors}})],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_c('b',[_vm._v(\"Донор: \")]),(_vm.person.firstName)?_c('span',[_vm._v(_vm._s(_vm.fullName))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.person.bloodType)?_c('p',[_c('b',[_vm._v(\"Группа крови:\")]),_vm._v(\" \"+_vm._s(_vm.person.bloodType.typeName))]):_vm._e(),_vm._v(\" \"),(_vm.person.sex)?_c('p',[_c('b',[_vm._v(\"Пол:\")]),_vm._v(\" \"+_vm._s(_vm.person.sex == 'male' ? 'мужской' : 'женский'))]):_vm._e(),_vm._v(\" \"),(_vm.person.address)?_c('p',[_c('b',[_vm._v(\"Адрес:\")]),_vm._v(\" \"+_vm._s(_vm.person.address))]):_vm._e(),_vm._v(\" \"),(_vm.person.phone)?_c('p',[_c('b',[_vm._v(\"Телефон:\")]),_vm._v(\" \"+_vm._s(_vm.person.phone))]):_vm._e(),_vm._v(\" \"),(_vm.person.mobile)?_c('p',[_c('b',[_vm._v(\"Мобильный:\")]),_vm._v(\" \"+_vm._s(_vm.person.mobile))]):_vm._e(),_vm._v(\" \"),(_vm.person.passport)?_c('p',[_c('b',[_vm._v(\"Удостоверение:\")]),_vm._v(\" \"+_vm._s(_vm.person.passport))]):_vm._e(),_vm._v(\" \"),(_vm.person.fin)?_c('p',[_c('b',[_vm._v(\"FIN:\")]),_vm._v(\" \"+_vm._s(_vm.person.fin))]):_vm._e(),_vm._v(\" \"),(_vm.person.mobile)?_c('p',[_c('b',[_vm._v(\"Мобильный:\")]),_vm._v(\" \"+_vm._s(_vm.person.mobile))]):_vm._e(),_vm._v(\" \"),(_vm.person.description)?_c('p',[_c('b',[_vm._v(\"Доп. информация:\")]),_vm._v(\" \"+_vm._s(_vm.person.description))]):_vm._e(),_vm._v(\" \"),(_vm.person.donor)?_c('p',[_c('b',[_vm._v(\"Донор\")])]):_vm._e(),_vm._v(\" \"),(_vm.person.recipient)?_c('p',[_c('b',[_vm._v(\"Реципиент\")])]):_vm._e(),_vm._v(\" \"),_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.donModal\",modifiers:{\"donModal\":true}}],attrs:{\"variant\":\"success\"}},[_vm._v(\"Выбрать донора\")]),_vm._v(\" \"),_c('b-modal',{ref:\"donModal\",attrs:{\"id\":\"donModal\",\"title\":\"Выбор донора\",\"ok-only\":\"\",\"ok-title\":\"Отменить\"}},[_c('person-window',{attrs:{\"mode\":'personselect'},on:{\"selectperson\":_vm.setDonor}})],1)],1)])]),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form',{attrs:{\"action\":\"/api/person/add\",\"method\":\"POST\"}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Материал\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"source\"}},[_c('b-form-select',{attrs:{\"id\":\"source\",\"value-field\":\"_id\",\"text-field\":\"sourceName\",\"options\":_vm.sources,\"name\":\"source\"},model:{value:(_vm.source),callback:function ($$v) {_vm.source=$$v},expression:\"source\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Количество\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"volume\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"volume\",\"name\":\"volume\"},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Дата\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"date\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"date\",\"name\":\"date\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Время\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"time\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"time\",\"name\":\"date\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Доп. информация\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"description\"}},[_c('b-form-textarea',{staticClass:\"form-control\",attrs:{\"id\":\"description\",\"name\":\"description\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addDraw}},[_vm._v(\"Произвести забор\")])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-251ba69a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DrawAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-251ba69a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DrawAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DrawAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DrawAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-251ba69a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DrawAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-251ba69a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DrawAdd.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <h1>Информация о заборе</h1>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mdlContent\">\r\n        <b-col cols=\"12\">\r\n          <div class=\"card\">\r\n            <h5 class=\"card-header\"><b>Группа крови: </b><span v-if=\"draw.bloodType\">{{draw.bloodType.typeName}}</span></h5>\r\n            <div class=\"card-body\">\r\n              <p v-if=\"draw.source\"><b>Материал:</b> {{draw.source.sourceName}} ({{draw.source.measure}})</p>\r\n              <p v-if=\"draw.volume\"><b>Объем:</b> {{draw.volume}} {{draw.source.measure}}</p>\r\n              <p v-if=\"draw.remainder\"><b>Остаток:</b> {{draw.remainder}} {{draw.source.measure}}</p>\r\n              <p v-if=\"draw.date\"><b>Дата:</b> {{draw.date}}</p>\r\n              <p v-if=\"draw.person\"><b>Донор:</b> <b-link href=\"#\" v-bind:to=\"{name: 'PersonShow', params: {id: draw.person._id}}\">{{draw.person.firstName}} {{draw.person.lastName}}</b-link></p>\r\n              <p v-if=\"draw.description\"><b>Доп.информация:</b> {{draw.description}}</p>\r\n              <b-button v-bind:to=\"{ name: 'TransAdd', params: {id: draw._id }}\" variant=\"warning\">Сделать переливание</b-button>\r\n              <b-button v-bind:to=\"{ name: 'Draws' }\" variant=\"danger\">Список заборов</b-button>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>    \r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport DrawService from '@/services/DrawService'\r\n/*id: person._id*/\r\nexport default {\r\n  name: 'DrawShow',\r\n  data () {\r\n    return {\r\n      draw: {}\r\n    }\r\n  },\r\n  methods: {\r\n    async getDraw() {\r\n      const response = await DrawService.getDraw({ id: this.$route.params.id });\r\n\r\n      if(response.data.success !== false){\r\n        this.draw = response.data.data;\r\n      }\r\n    }\r\n  },\r\n  created: function() {\r\n  },\r\n  mounted () {\r\n    this.getDraw()\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/draw-info_64x64.png) no-repeat;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DrawShow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Информация о заборе\")])])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_c('b',[_vm._v(\"Группа крови: \")]),(_vm.draw.bloodType)?_c('span',[_vm._v(_vm._s(_vm.draw.bloodType.typeName))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.draw.source)?_c('p',[_c('b',[_vm._v(\"Материал:\")]),_vm._v(\" \"+_vm._s(_vm.draw.source.sourceName)+\" (\"+_vm._s(_vm.draw.source.measure)+\")\")]):_vm._e(),_vm._v(\" \"),(_vm.draw.volume)?_c('p',[_c('b',[_vm._v(\"Объем:\")]),_vm._v(\" \"+_vm._s(_vm.draw.volume)+\" \"+_vm._s(_vm.draw.source.measure))]):_vm._e(),_vm._v(\" \"),(_vm.draw.remainder)?_c('p',[_c('b',[_vm._v(\"Остаток:\")]),_vm._v(\" \"+_vm._s(_vm.draw.remainder)+\" \"+_vm._s(_vm.draw.source.measure))]):_vm._e(),_vm._v(\" \"),(_vm.draw.date)?_c('p',[_c('b',[_vm._v(\"Дата:\")]),_vm._v(\" \"+_vm._s(_vm.draw.date))]):_vm._e(),_vm._v(\" \"),(_vm.draw.person)?_c('p',[_c('b',[_vm._v(\"Донор:\")]),_vm._v(\" \"),_c('b-link',{attrs:{\"href\":\"#\",\"to\":{name: 'PersonShow', params: {id: _vm.draw.person._id}}}},[_vm._v(_vm._s(_vm.draw.person.firstName)+\" \"+_vm._s(_vm.draw.person.lastName))])],1):_vm._e(),_vm._v(\" \"),(_vm.draw.description)?_c('p',[_c('b',[_vm._v(\"Доп.информация:\")]),_vm._v(\" \"+_vm._s(_vm.draw.description))]):_vm._e(),_vm._v(\" \"),_c('b-button',{attrs:{\"to\":{ name: 'TransAdd', params: {id: _vm.draw._id }},\"variant\":\"warning\"}},[_vm._v(\"Сделать переливание\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"to\":{ name: 'Draws' },\"variant\":\"danger\"}},[_vm._v(\"Список заборов\")])],1)])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-90d222e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DrawShow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-90d222e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DrawShow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DrawShow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DrawShow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-90d222e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DrawShow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-90d222e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DrawShow.vue\n// module id = null\n// module chunks = ","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  fetchTrans (queryObj) {\r\n    return Api().get('api/trans', { params: queryObj });\r\n  },\r\n  addTrans(params) {\r\n    return Api().post('api/trans', params);\r\n  },\r\n  getTrans(params) {\r\n    return Api().get('api/trans/' + params.id);\r\n  },\r\n  updateTrans(params) {\r\n    return Api().put('api/trans/' + params.id, params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/TransService.js","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <h1>Сделать переливание</h1>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <error-board :errors=\"errors\" @clearerrors=\"clearErrors\"></error-board>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mdlContent\">\r\n        <b-col md=\"6\" sm=\"12\">\r\n          <div class=\"card mb-4\">\r\n            <h5 class=\"card-header\"><b>Реципиент: </b><span v-if=\"recipient.fullName\">{{recipient.fullName}}</span></h5>\r\n            <div class=\"card-body\">\r\n              <p v-if=\"recipient.bloodType\"><b>Группа крови: </b>{{recipient.bloodType.typeName}}</p>\r\n              <b-btn variant=\"success\" v-b-modal.recModal>Выбрать реципиента</b-btn>\r\n              <!-- Modal Component -->\r\n              <b-modal ref=\"recModal\" id=\"recModal\" title=\"Выбор реципиента\" ok-only ok-title=\"Отменить\">\r\n                <person-window @selectperson=\"setRecipient\" :mode=\"'personselect'\"></person-window>\r\n              </b-modal>\r\n            </div>\r\n          </div>\r\n          <b-form class=\"mb-4\" @submit.prevent=\"addTrans\" method=\"POST\">\r\n            <b-form-group horizontal label=\"Дата\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"date\">\r\n              <b-form-input type=\"text\" class=\"form-control\" id=\"date\" name=\"date\" v-model=\"date\"></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Время\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"time\">\r\n              <b-form-input type=\"text\" class=\"form-control\" id=\"time\" name=\"date\" v-model=\"time\"></b-form-input>\r\n            </b-form-group>\r\n            <b-form-group horizontal label=\"Доп. информация\" :label-cols=\"3\" breakpoints=\"md\" label-for=\"description\">\r\n              <b-form-textarea class=\"form-control\" id=\"description\" name=\"description\" rows=\"6\" v-model=\"description\"></b-form-textarea>\r\n            </b-form-group>\r\n            <b-col cols=\"6\">\r\n              <b-btn type=\"submit\" variant=\"primary\">Произвести переливание</b-btn>\r\n            </b-col>\r\n          </b-form>\r\n        </b-col>\r\n        <b-col md=\"6\" sm=\"12\" class=\"mb-4\">\r\n          <div class=\"card\">\r\n            <h5 class=\"card-header\"><b>Заборы</b></h5>\r\n            <div class=\"card-body\">\r\n              <b-list-group>\r\n                <b-list-group-item v-for=\"draw in draws\">\r\n                  <p><b>Материал:</b> {{draw.source.sourceName}}</p>\r\n                  <p><b>Группа крови: </b>{{draw.bloodType.typeName}}</p>\r\n                  <p><b>Дата забора: </b>{{draw.date}}</p>\r\n                  <p><b>Исходный объем: </b>{{draw.volume}} {{draw.source.measure}}</p>\r\n                  <p><b>Объем остатка: </b>{{draw.remainder}} {{draw.source.measure}}</p>\r\n                  <p><b>Донор: </b>{{draw.person.firstName}} {{draw.person.lastName}}</p>\r\n                  <b-form-group horizontal label=\"Количество\" :label-cols=\"4\" breakpoints=\"md\" :label-for=\"draw._id\">\r\n                    <b-form-input type=\"text\" class=\"form-control\" :id=\"draw._id\" name=\"transVolume\" v-model=\"draw.transVolume\"></b-form-input>\r\n                  </b-form-group>\r\n                  <div><b-btn size=\"sm\" variant=\"danger\" @click=\"removeDraw(draw)\">Удалить</b-btn></div>\r\n                </b-list-group-item>\r\n              </b-list-group>\r\n              <b-btn variant=\"danger\" v-b-modal.drawModal>Выбрать забор</b-btn>\r\n              <!-- Modal Component -->\r\n              <b-modal ref=\"drawModal\" id=\"drawModal\" size=\"lg\" title=\"Выбор забора\" ok-only ok-title=\"Отменить\">\r\n                <draw-window @selectdraw=\"addDraw\" :mode=\"'drawselect'\"></draw-window>\r\n              </b-modal>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n  \t\t</b-row>\r\n  \t</b-container>    \r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\nimport SourceService from '@/services/SourceService'\r\nimport DrawService from '@/services/DrawService'\r\nimport TransService from '@/services/TransService'\r\nimport Persons from '@/components/Persons'\r\nimport Draws from '@/components/Draws'\r\n\r\nexport default {\r\n  name: 'DrawAdd',\r\n  data () {\r\n    return {\r\n    \tvolume: null,\r\n    \tdescription: '',\r\n      date: this.$tools.formatDate(new Date()),\r\n      time: this.$tools.formatTime(new Date()),\r\n      recipient: {},\r\n    \tdraws: [],\r\n      errors: []\r\n    }\r\n  },\r\n  components:{\r\n    'person-window' : Persons, \r\n    'draw-window' : Draws \r\n  },\r\n  methods: {\r\n  \tasync addTrans() {\r\n      const source = this.draws[0].source._id;\r\n      if(!this.draws.every(draw => {\r\n        return source === draw.source._id\r\n      })){\r\n        return this.errors.push({message: \"Вы используете разные материалы для переливания\"});\r\n      }\r\n      if(!this.draws.length || !this.recipient._id ||  !this.date || !this.time){\r\n        return this.errors.push({message: \"Заполните правильно все обязательные поля\"});\r\n      }\r\n      try{\r\n        const response = await TransService.addTrans({\r\n          volume: this.volume,\r\n          source: this.draws[0].source._id,\r\n          recipient: this.recipient._id,\r\n          draws: this.draws,\r\n          date: this.date + ' ' + this.time,\r\n      \t\tdescription: this.description\r\n        });\r\n\r\n        if(undefined !== response.data.success && !response.data.success){\r\n          if(response.data.errors){\r\n            response.data.errors.forEach((item, i, arr)=>{\r\n              this.errors.push(item);\r\n            });\r\n          }\r\n        }\r\n        else{\r\n          this.$router.push({name: 'TransShow', params: {id: response.data.data._id}});\r\n        }\r\n      } catch(err){\r\n        if(!err.response){\r\n          return this.errors.push({message: \"Отсутствует соединение с сервером\"});\r\n        }\r\n        this.errors.push({message: err.response.data.errors});\r\n      }\r\n    },\r\n    async getDraw(id) {\r\n      const response = await DrawService.getDraw({ id: id});\r\n      if(response.data.success !== false){\r\n      \tthis.addDraw(response.data.data);\r\n      }\r\n    },\r\n    setRecipient(person){\r\n      this.recipient = person;\r\n      this.$refs.recModal.hide();\r\n    },\r\n    addDraw(draw){\r\n      this.draws.push(Object.assign({}, draw, {transVolume: draw.remainder}));\r\n      this.$refs.drawModal.hide();\r\n    },\r\n    removeDraw(draw){\r\n      let i = this.draws.indexOf(draw);\r\n      if(i != -1){\r\n        this.draws.splice(i, 1);\r\n      }\r\n    },\r\n    clearErrors(){\r\n      this.errors = [];\r\n    }\r\n  },\r\n  created: function() {\r\n    if(this.$route.params.id){\r\n      this.getDraw(this.$route.params.id);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/trans-add_64x64.png) no-repeat;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/TransAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Сделать переливание\")])])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('error-board',{attrs:{\"errors\":_vm.errors},on:{\"clearerrors\":_vm.clearErrors}})],1)],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"md\":\"6\",\"sm\":\"12\"}},[_c('div',{staticClass:\"card mb-4\"},[_c('h5',{staticClass:\"card-header\"},[_c('b',[_vm._v(\"Реципиент: \")]),(_vm.recipient.fullName)?_c('span',[_vm._v(_vm._s(_vm.recipient.fullName))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.recipient.bloodType)?_c('p',[_c('b',[_vm._v(\"Группа крови: \")]),_vm._v(_vm._s(_vm.recipient.bloodType.typeName))]):_vm._e(),_vm._v(\" \"),_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.recModal\",modifiers:{\"recModal\":true}}],attrs:{\"variant\":\"success\"}},[_vm._v(\"Выбрать реципиента\")]),_vm._v(\" \"),_c('b-modal',{ref:\"recModal\",attrs:{\"id\":\"recModal\",\"title\":\"Выбор реципиента\",\"ok-only\":\"\",\"ok-title\":\"Отменить\"}},[_c('person-window',{attrs:{\"mode\":'personselect'},on:{\"selectperson\":_vm.setRecipient}})],1)],1)]),_vm._v(\" \"),_c('b-form',{staticClass:\"mb-4\",attrs:{\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();_vm.addTrans($event)}}},[_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Дата\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"date\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"date\",\"name\":\"date\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Время\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"time\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"time\",\"name\":\"date\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Доп. информация\",\"label-cols\":3,\"breakpoints\":\"md\",\"label-for\":\"description\"}},[_c('b-form-textarea',{staticClass:\"form-control\",attrs:{\"id\":\"description\",\"name\":\"description\",\"rows\":\"6\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-btn',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Произвести переливание\")])],1)],1)],1),_vm._v(\" \"),_c('b-col',{staticClass:\"mb-4\",attrs:{\"md\":\"6\",\"sm\":\"12\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_c('b',[_vm._v(\"Заборы\")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('b-list-group',_vm._l((_vm.draws),function(draw){return _c('b-list-group-item',[_c('p',[_c('b',[_vm._v(\"Материал:\")]),_vm._v(\" \"+_vm._s(draw.source.sourceName))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Группа крови: \")]),_vm._v(_vm._s(draw.bloodType.typeName))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Дата забора: \")]),_vm._v(_vm._s(draw.date))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Исходный объем: \")]),_vm._v(_vm._s(draw.volume)+\" \"+_vm._s(draw.source.measure))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Объем остатка: \")]),_vm._v(_vm._s(draw.remainder)+\" \"+_vm._s(draw.source.measure))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Донор: \")]),_vm._v(_vm._s(draw.person.firstName)+\" \"+_vm._s(draw.person.lastName))]),_vm._v(\" \"),_c('b-form-group',{attrs:{\"horizontal\":\"\",\"label\":\"Количество\",\"label-cols\":4,\"breakpoints\":\"md\",\"label-for\":draw._id}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":draw._id,\"name\":\"transVolume\"},model:{value:(draw.transVolume),callback:function ($$v) {_vm.$set(draw, \"transVolume\", $$v)},expression:\"draw.transVolume\"}})],1),_vm._v(\" \"),_c('div',[_c('b-btn',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){_vm.removeDraw(draw)}}},[_vm._v(\"Удалить\")])],1)],1)})),_vm._v(\" \"),_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.drawModal\",modifiers:{\"drawModal\":true}}],attrs:{\"variant\":\"danger\"}},[_vm._v(\"Выбрать забор\")]),_vm._v(\" \"),_c('b-modal',{ref:\"drawModal\",attrs:{\"id\":\"drawModal\",\"size\":\"lg\",\"title\":\"Выбор забора\",\"ok-only\":\"\",\"ok-title\":\"Отменить\"}},[_c('draw-window',{attrs:{\"mode\":'drawselect'},on:{\"selectdraw\":_vm.addDraw}})],1)],1)])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b472e86\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TransAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b472e86\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TransAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b472e86\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TransAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9b472e86\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TransAdd.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\" v-if=\"mode !== 'recipienttrans'\">\r\n          <h1 class=\"mb-4\">Переливания крови</h1>\r\n        </b-col>      \r\n      </b-row> \r\n      <b-row class=\"mdlContent\">\r\n        <h2 class=\"mb-4 col-md-12\" v-if=\"mode === 'recipienttrans'\">Переливания крови</h2>\r\n        <b-col cols=\"12\">\r\n          <b-form inline @submit.prevent=\"searchTrans\">\r\n            <label class=\"sr-only\" for=\"person\">Имя или фамилия</label>\r\n            <b-input v-if=\"mode !== 'recipienttrans'\" class=\"mb-2 mr-sm-2 mb-sm-0\" v-model=\"searchObject.person\" id=\"person\" name=\"person\" placeHolder=\"имя\" />\r\n            <label class=\"sr-only\" for=\"date\">Дата</label>\r\n            <b-input class=\"mb-2 mr-sm-2 mb-sm-0\" type=\"date\" v-model=\"searchObject.date\" id=\"date\" name=\"date\"  />\r\n            <label class=\"sr-only\" for=\"bloodType\">Группа крови</label>\r\n            <b-form-select class=\"mb-2 mr-sm-2 mb-sm-0\" id=\"bloodType\" value-field=\"_id\" text-field=\"typeName\" :options=\"bloodTypes\" name=\"bloodType\" v-model=\"searchObject.bloodType\"></b-form-select>\r\n            <b-form-select class=\"mb-2 mr-sm-2 mb-sm-0\" id=\"source\" value-field=\"_id\" text-field=\"sourceName\" :options=\"sources\" name=\"source\" v-model=\"searchObject.source\"></b-form-select>\r\n            <b-button type=\"submit\" variant=\"primary\">Найти</b-button>\r\n          </b-form>\r\n          <b-table \r\n          striped \r\n          stacked=\"md\" \r\n          small \r\n          hover \r\n          no-provider-paging \r\n          no-provider-sorting \r\n          no-provider-filtering \r\n          no-local-sorting\r\n          @sort-changed=\"sortingChanged\"\r\n          :items=\"trans\" \r\n          :fields=\"fields\"\r\n          class=\"mt-4\">\r\n            <template slot=\"index\" v-bind:offset=\"searchObject.offset\" slot-scope=\"data\">\r\n              {{data.value + 1}}\r\n            </template>\r\n            <template slot=\"source\" slot-scope=\"data\">\r\n              {{data.value.sourceName}} ({{data.value.measure}})\r\n            </template>\r\n            <template slot=\"recipient\" slot-scope=\"data\">\r\n              {{data.value.fullName}}\r\n            </template>\r\n            <template slot=\"bloodType\" slot-scope=\"row\">\r\n              {{row.item.recipient.bloodType.typeName}}\r\n            </template>\r\n            <template slot=\"actions\" slot-scope=\"row\">\r\n              <div v-if=\"mode !== 'personselect'\" class=\"icon-link\">\r\n                <b-link class=\"trans-info\" router-tag=\"div\" v-bind:to=\"{ name: 'TransShow', params: {id: row.item._id }}\" title=\"просмотреть переливание\"></b-link>\r\n              </div>\r\n            </template>        \r\n        \t</b-table>\r\n          <b-row>\r\n            <b-col cols=\"12\">\r\n              <b-pagination :total-rows=\"searchObject.totalCount\" @change =\"goToPage\" v-model=\"currentPage\" :per-page=\"searchObject.pageSize\"></b-pagination>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport TransService from '@/services/TransService'\r\nimport BloodTypeService from '@/services/BloodTypeService'\r\nimport SourceService from '@/services/SourceService'\r\n\r\nexport default {\r\n  name: 'Persons',\r\n  data () {\r\n    return {\r\n      fields: [\r\n          { key: 'index', label: \"#\"},\r\n          { key: 'date', label: 'Дата', sortable: true},\r\n          { key: 'recipient', label: 'Реципиент' },\r\n          { key: 'bloodType', label: 'Группа крови' },\r\n          { key: 'source', label: 'Материал'},\r\n          { key: 'volume', label: 'Объем' },\r\n          { key: 'actions', label: 'Action'}\r\n        ],\r\n      currentPage: 1,\r\n    \ttrans: [],\r\n      bloodTypes: [],\r\n      sources: [],\r\n      searchObject: {\r\n        bloodType: null,\r\n        person: '',\r\n        personId: null,\r\n        source: null,\r\n        date: null,\r\n        pageSize: 10,\r\n        totalCount: 0,\r\n        offset: 0,\r\n        sortObj: {\r\n          date: true\r\n        }\r\n      }      \r\n    }\r\n  },\r\n  props: ['mode'],\r\n  methods: {\r\n    async getTrans() {\r\n      const response = await TransService.fetchTrans(this.searchObject);\r\n      if(response.data.success){\r\n       this.trans = response.data.data.map((tran, index) => {\r\n          tran.recipient.fullName = this.$tools.smartJoin([\r\n            tran.recipient.firstName, tran.recipient.lastName, tran.recipient.middleName\r\n          ]);\r\n          tran.index = index + this.searchObject.offset;\r\n          return tran;\r\n        });\r\n        this.searchObject.totalCount = response.data.totalCount;\r\n     }\r\n    },\r\n    async getBloodTypes(){\r\n      const response = await BloodTypeService.fetchBloodTypes();\r\n      if(response.data.success){\r\n        this.bloodTypes = response.data.data;\r\n        this.bloodTypes.push({ \r\n          _id: null, \r\n          typeName: 'Все группы крови'\r\n        });\r\n      }\r\n    },\r\n    async getSources(){\r\n      const response = await SourceService.fetchSources();\r\n      if(response.data.success){\r\n        this.sources = response.data.data;\r\n        this.sources.push({ \r\n          _id: null, \r\n          sourceName: 'Все материалы'\r\n        });\r\n      }\r\n    },\r\n    async searchTrans(){\r\n      this.searchObject.offset = 0;\r\n      await this.getTrans();\r\n      this.currentPage = Math.ceil(this.searchObject.offset / this.searchObject.pageSize);\r\n    },\r\n    goToPage(pageNumber){\r\n      this.searchObject.offset = (pageNumber - 1) * this.searchObject.pageSize;\r\n      this.getTrans();\r\n    },\r\n    sortingChanged(ctx){\r\n      this.searchObject.sortObj[ctx.sortBy] = ctx.sortDesc;\r\n      this.getTrans();\r\n    }\r\n  },\r\n  created: function() {\r\n    if(this.mode === 'recipienttrans')\r\n      this.searchObject.personId = this.$route.params.id;\r\n    this.getTrans()\r\n    this.getSources();\r\n  \tthis.getBloodTypes();\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/trans_64x64.png) no-repeat;\r\n}\r\n.trans-info{\r\n  background: url(../assets/trans-info_32x32.png) no-repeat;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Trans.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[(_vm.mode !== 'recipienttrans')?_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',{staticClass:\"mb-4\"},[_vm._v(\"Переливания крови\")])]):_vm._e()],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[(_vm.mode === 'recipienttrans')?_c('h2',{staticClass:\"mb-4 col-md-12\"},[_vm._v(\"Переливания крови\")]):_vm._e(),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-form',{attrs:{\"inline\":\"\"},on:{\"submit\":function($event){$event.preventDefault();_vm.searchTrans($event)}}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"person\"}},[_vm._v(\"Имя или фамилия\")]),_vm._v(\" \"),(_vm.mode !== 'recipienttrans')?_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"person\",\"name\":\"person\",\"placeHolder\":\"имя\"},model:{value:(_vm.searchObject.person),callback:function ($$v) {_vm.$set(_vm.searchObject, \"person\", $$v)},expression:\"searchObject.person\"}}):_vm._e(),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"date\"}},[_vm._v(\"Дата\")]),_vm._v(\" \"),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"type\":\"date\",\"id\":\"date\",\"name\":\"date\"},model:{value:(_vm.searchObject.date),callback:function ($$v) {_vm.$set(_vm.searchObject, \"date\", $$v)},expression:\"searchObject.date\"}}),_vm._v(\" \"),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"bloodType\"}},[_vm._v(\"Группа крови\")]),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"bloodType\",\"value-field\":\"_id\",\"text-field\":\"typeName\",\"options\":_vm.bloodTypes,\"name\":\"bloodType\"},model:{value:(_vm.searchObject.bloodType),callback:function ($$v) {_vm.$set(_vm.searchObject, \"bloodType\", $$v)},expression:\"searchObject.bloodType\"}}),_vm._v(\" \"),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"source\",\"value-field\":\"_id\",\"text-field\":\"sourceName\",\"options\":_vm.sources,\"name\":\"source\"},model:{value:(_vm.searchObject.source),callback:function ($$v) {_vm.$set(_vm.searchObject, \"source\", $$v)},expression:\"searchObject.source\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Найти\")])],1),_vm._v(\" \"),_c('b-table',{staticClass:\"mt-4\",attrs:{\"striped\":\"\",\"stacked\":\"md\",\"small\":\"\",\"hover\":\"\",\"no-provider-paging\":\"\",\"no-provider-sorting\":\"\",\"no-provider-filtering\":\"\",\"no-local-sorting\":\"\",\"items\":_vm.trans,\"fields\":_vm.fields},on:{\"sort-changed\":_vm.sortingChanged},scopedSlots:_vm._u([{key:\"index\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value + 1)+\"\\n          \")]}},{key:\"source\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.sourceName)+\" (\"+_vm._s(data.value.measure)+\")\\n          \")]}},{key:\"recipient\",fn:function(data){return [_vm._v(\"\\n            \"+_vm._s(data.value.fullName)+\"\\n          \")]}},{key:\"bloodType\",fn:function(row){return [_vm._v(\"\\n            \"+_vm._s(row.item.recipient.bloodType.typeName)+\"\\n          \")]}},{key:\"actions\",fn:function(row){return [(_vm.mode !== 'personselect')?_c('div',{staticClass:\"icon-link\"},[_c('b-link',{staticClass:\"trans-info\",attrs:{\"router-tag\":\"div\",\"to\":{ name: 'TransShow', params: {id: row.item._id }},\"title\":\"просмотреть переливание\"}})],1):_vm._e()]}}])}),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.searchObject.totalCount,\"per-page\":_vm.searchObject.pageSize},on:{\"change\":_vm.goToPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21a8c238\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Trans.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21a8c238\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Trans.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Trans.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Trans.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21a8c238\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Trans.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21a8c238\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Trans.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section>\r\n    <b-container>\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <h1>Информация о переливании</h1>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mdlContent\">\r\n        <b-col cols=\"12\">\r\n          <b-card no-body>\r\n            <h5 slot=\"header\"><b>Реципиент: </b><b-link href=\"#\" v-bind:to=\"{name: 'PersonShow', params: {id: trans.recipient._id}}\">{{trans.recipient.firstName}} {{trans.recipient.lastName}}</b-link></h5>\r\n            <b-card-body>\r\n              <p v-if=\"trans.source\"><b>Материал:</b> {{trans.source.sourceName}} ({{trans.source.measure}})</p>\r\n              <p v-if=\"trans.recipient\"><b>Группа крови: </b>{{trans.recipient.bloodType.typeName}}</p>\r\n              <p v-if=\"trans.volume\"><b>Объем:</b> {{trans.volume}} {{trans.source.measure}}</p>\r\n              <p v-if=\"trans.date\"><b>Дата переливания:</b> {{trans.date}}</p>\r\n              <p v-if=\"trans.description\"><b>Доп.информация:</b> {{trans.description}}</p>\r\n                <b-list-group>\r\n                  <b-list-group-item variant=\"success\"><h5>Заборы:</h5></b-list-group-item>\r\n                  <b-list-group-item v-for=\"item in trans.draws\">\r\n                    <div>\r\n                      <p><b>Группа крови:</b> {{item.draw.bloodType.typeName}}</p>\r\n                      <p><b>Дата:</b> <b-link href=\"#\" v-bind:to=\"{name: 'DrawShow', params: {id:item.draw._id}}\">{{item.draw.date}}</b-link></p>\r\n                      <p><b>Перелито:</b> {{item.transVolume}} {{item.draw.source.measure}}</p>\r\n                      <p><b>Донор:</b> <b-link href=\"#\" v-bind:to=\"{name: 'PersonShow', params: {id: item.draw.person._id}}\">{{item.draw.person.firstName}} {{item.draw.person.lastName}}</b-link></p>\r\n                    </div>\r\n                  </b-list-group-item>\r\n                </b-list-group>\r\n              <b-button v-bind:to=\"{ name: 'TransAdd', params: {id: trans._id }}\" variant=\"primary\">Сделать новое переливание</b-button>\r\n              <b-button v-bind:to=\"{ name: 'Trans' }\" variant=\"primary\">Список переливаний</b-button>\r\n            </b-card-body>\r\n          </b-card> \r\n        </b-col>\r\n      </b-row>\r\n    </b-container>    \r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport TransService from '@/services/TransService'\r\n/*id: person._id*/\r\nexport default {\r\n  name: 'TransShow',\r\n  data () {\r\n    return {\r\n      trans: {}\r\n    }\r\n  },\r\n  methods: {\r\n    async getTrans() {\r\n      const response = await TransService.getTrans({ id: this.$route.params.id });\r\n\r\n      if(response.data.success !== false){\r\n        this.trans = response.data.data;\r\n      }\r\n    }\r\n  },\r\n  created: function() {\r\n  },\r\n  mounted () {\r\n    this.getTrans()\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n  background: url(../assets/trans-info_64x64.png) no-repeat;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/TransShow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Информация о переливании\")])])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mdlContent\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('h5',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b',[_vm._v(\"Реципиент: \")]),_c('b-link',{attrs:{\"href\":\"#\",\"to\":{name: 'PersonShow', params: {id: _vm.trans.recipient._id}}}},[_vm._v(_vm._s(_vm.trans.recipient.firstName)+\" \"+_vm._s(_vm.trans.recipient.lastName))])],1),_vm._v(\" \"),_c('b-card-body',[(_vm.trans.source)?_c('p',[_c('b',[_vm._v(\"Материал:\")]),_vm._v(\" \"+_vm._s(_vm.trans.source.sourceName)+\" (\"+_vm._s(_vm.trans.source.measure)+\")\")]):_vm._e(),_vm._v(\" \"),(_vm.trans.recipient)?_c('p',[_c('b',[_vm._v(\"Группа крови: \")]),_vm._v(_vm._s(_vm.trans.recipient.bloodType.typeName))]):_vm._e(),_vm._v(\" \"),(_vm.trans.volume)?_c('p',[_c('b',[_vm._v(\"Объем:\")]),_vm._v(\" \"+_vm._s(_vm.trans.volume)+\" \"+_vm._s(_vm.trans.source.measure))]):_vm._e(),_vm._v(\" \"),(_vm.trans.date)?_c('p',[_c('b',[_vm._v(\"Дата переливания:\")]),_vm._v(\" \"+_vm._s(_vm.trans.date))]):_vm._e(),_vm._v(\" \"),(_vm.trans.description)?_c('p',[_c('b',[_vm._v(\"Доп.информация:\")]),_vm._v(\" \"+_vm._s(_vm.trans.description))]):_vm._e(),_vm._v(\" \"),_c('b-list-group',[_c('b-list-group-item',{attrs:{\"variant\":\"success\"}},[_c('h5',[_vm._v(\"Заборы:\")])]),_vm._v(\" \"),_vm._l((_vm.trans.draws),function(item){return _c('b-list-group-item',[_c('div',[_c('p',[_c('b',[_vm._v(\"Группа крови:\")]),_vm._v(\" \"+_vm._s(item.draw.bloodType.typeName))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Дата:\")]),_vm._v(\" \"),_c('b-link',{attrs:{\"href\":\"#\",\"to\":{name: 'DrawShow', params: {id:item.draw._id}}}},[_vm._v(_vm._s(item.draw.date))])],1),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Перелито:\")]),_vm._v(\" \"+_vm._s(item.transVolume)+\" \"+_vm._s(item.draw.source.measure))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Донор:\")]),_vm._v(\" \"),_c('b-link',{attrs:{\"href\":\"#\",\"to\":{name: 'PersonShow', params: {id: item.draw.person._id}}}},[_vm._v(_vm._s(item.draw.person.firstName)+\" \"+_vm._s(item.draw.person.lastName))])],1)])])})],2),_vm._v(\" \"),_c('b-button',{attrs:{\"to\":{ name: 'TransAdd', params: {id: _vm.trans._id }},\"variant\":\"primary\"}},[_vm._v(\"Сделать новое переливание\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"to\":{ name: 'Trans' },\"variant\":\"primary\"}},[_vm._v(\"Список переливаний\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e6b059e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TransShow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8e6b059e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TransShow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransShow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransShow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e6b059e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TransShow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8e6b059e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TransShow.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\nimport Persons from '@/components/Persons'\nimport PersonAdd from '@/components/PersonAdd'\nimport PersonShow from '@/components/PersonShow'\nimport PersonEdit from '@/components/PersonEdit'\nimport Draws from '@/components/Draws'\nimport DrawAdd from '@/components/DrawAdd'\nimport DrawShow from '@/components/DrawShow'\nimport TransAdd from '@/components/TransAdd'\nimport Trans from '@/components/Trans'\nimport TransShow from '@/components/TransShow'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    },\n    {\n      path: '/person',\n      name: 'Persons',\n      component: Persons\n    },\n    {\n      path: '/person/show/:id',\n      name: 'PersonShow',\n      component: PersonShow\n    },\n    {\n      path: '/person/add',\n      name: 'PersonAdd',\n      component: PersonAdd\n    },\n    {\n      path: '/person/edit',\n      name: 'PersonEdit',\n      component: PersonEdit\n    },\n    {\n      path: '/donor',\n      component: Persons,\n      props: {mode: 'donor', pageTitle: 'Доноры'}\n    },\n    {\n      path: '/donor/show/:id',\n      component: PersonShow,\n      props: { mode: 'donor'},\n      children: [\n        { path: '/', component: Draws, props: { mode: 'donordraws'}}\n      ]\n    },\n    {\n      path: '/recipient',\n      component: Persons,\n      props: {mode: 'recipient', pageTitle: 'Реципиенты'}\n    },\n    {\n      path: '/recipient/show/:id',\n      component: PersonShow,\n      props: { mode: 'recipient'},      \n      children: [\n        { path: '/', component: Trans, props: { mode: 'recipienttrans'}}\n      ]\n    },\n    {\n      path: '/draw',\n      name: 'Draws',\n      component: Draws\n    },\n    {\n      path: '/draw/show/:id',\n      name: 'DrawShow',\n      component: DrawShow\n    },\n    {\n      path: '/draw/add',\n      name: 'DrawAdd',\n      component: DrawAdd\n    },\n    {\n      path: '/trans',\n      name: 'Trans',\n      component: Trans\n    },\n    {\n      path: '/trans/show/:id',\n      name: 'TransShow',\n      component: TransShow\n    },\n    {\n      path: '/trans/add',\n      name: 'TransAdd',\n      component: TransAdd\n    }\n  ]\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default {\r\n  smartJoin(arr, separator){\r\n    if(!separator) separator = ' ';\r\n      return arr.filter(function(elt){\r\n        return elt!==undefined && elt!==null && elt.toString().trim() !== '';\r\n      }).join(separator);\r\n  },\r\n  formatDate(date) {\r\n\t  var dd = date.getDate();\r\n\t  if (dd < 10) dd = '0' + dd;\r\n\r\n\t  var mm = date.getMonth() + 1;\r\n\t  if (mm < 10) mm = '0' + mm;\r\n\r\n\t  var yyyy = date.getFullYear();\r\n\r\n\t  return dd + '.' + mm + '.' + yyyy;\r\n  },\r\n  formatTime(date) {\r\n\t  var hh = date.getHours();\r\n\t  if (hh < 10) hh = '0' + hh;\r\n\r\n\t  var mm = date.getMinutes();\r\n\t  if (mm < 10) mm = '0' + mm;\r\n\r\n\t  return hh + ':' + mm;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Tools.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport BootstrapVue from 'bootstrap-vue'\nimport App from './App'\nimport router from './router'\nimport Tools from '@/lib/Tools'\nimport ErrorBoard from '@/components/ErrorBoard'\n\nVue.config.productionTip = false\n\nVue.use(BootstrapVue);\nVue.prototype.$tools = Tools;\nVue.component('error-board', ErrorBoard);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/transfusion_bg.a20f36c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/transfusion_bg.png\n// module id = qYtL\n// module chunks = 1"],"sourceRoot":""}